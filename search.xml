<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Go GC è°ƒä¼˜æ€è·¯</title>
    <url>/2024/03/07/Go-GC-%E8%B0%83%E4%BC%98/</url>
    <content><![CDATA[<h1 id="é¢å‘é«˜æ€§èƒ½çš„-Go-GC-è°ƒä¼˜æ€è·¯"><a href="#é¢å‘é«˜æ€§èƒ½çš„-Go-GC-è°ƒä¼˜æ€è·¯" class="headerlink" title="é¢å‘é«˜æ€§èƒ½çš„ Go GC è°ƒä¼˜æ€è·¯"></a>é¢å‘é«˜æ€§èƒ½çš„ Go GC è°ƒä¼˜æ€è·¯</h1><h2 id="0"><a href="#0" class="headerlink" title="0"></a>0</h2><p>æœ€ç®€å•çš„ä¼˜åŒ–æ€è·¯æ˜¯åˆ«æµªè´¹æ—¶é—´ä¼˜åŒ–äº†ï¼Œè½¬ Rustï¼ŒR é—¨ï¼</p>
<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><p>FG æ˜¯ä¸€ä¸ªçº¯å†…å­˜è®¡ç®—æœåŠ¡ï¼Œå…¶ç‰¹ç‚¹æ˜¯ï¼šæ ¸å¿ƒæ•°æ®ä½¿ç”¨ map å­˜å‚¨ï¼Œè¯·æ±‚åˆ°è¾¾æœåŠ¡åï¼ŒæŸ¥è¯¢ mapï¼Œè¿›è¡Œè®¡ç®—å¹¶è¿”å›ã€‚æœåŠ¡æ‹‰èµ·æ—¶å¯åŠ¨ä¸€ä¸ªåç¨‹å®šæ—¶ä» DB è·å–æ•°æ®åˆ·æ–°æ­¤ mapã€‚</p>
<p>è®¡ç®—é€»è¾‘å·²è¢«ä¼˜åŒ–åˆ°å‡ ä¹æœ€ä½³ï¼Œå½“å‰æœ€å¤§çš„æ€§èƒ½ç“¶é¢ˆæ˜¯ GCï¼Œç”±äº map ä¸­å­˜å‚¨äº†å¤§é‡ k-v å¯¹ï¼Œä¸” value æ˜¯ä¸ªå¤æ‚ç»“æ„ä½“ï¼Œä¼šé€ƒé€¸åˆ°å †ä¸Šï¼Œå¯¼è‡´å †ä¸Šå­˜åœ¨å¤§é‡å¯è¾¾çš„å­˜æ´»å¯¹è±¡ï¼Œ GC Pause è¾ƒé•¿ï¼Œå¹³å‡åœ¨å‡  ms åˆ°å‡ ç™¾ msï¼Œä¸”å‡ºç°è¿‡ GC Pause è¶…è¿‡ 1s çš„æç«¯åœºæ™¯ã€‚è¿™å¸¦æ¥çš„åæœæ˜¯ï¼šå•å®ä¾‹ååé‡é™ä½ï¼Œæ—¶å»¶ä¼˜åŒ–å—é˜»ï¼Œæ¯›åˆºå¤šã€‚</p>
<p>ç‰¹ç‚¹ï¼šé«˜å¹¶å‘ï¼Œæ ¸å¿ƒè¯»æ¥å£QPS100w+ï¼Œå•å®ä¾‹ï¼ˆ16C32Gï¼‰ QPS 5k+ï¼Œä½æ—¶å»¶ï¼šè¦æ±‚æ ¸å¿ƒè¯»æ¥å£ P99&lt;1msã€‚</p>
<p>ç›®æ ‡ï¼šä¼˜åŒ– GCï¼Œé™ä½ GC Pause</p>
<p>æ­¤æ–¹æ¡ˆå­˜åœ¨å¾ˆå¤šé’ˆå¯¹ FG æœåŠ¡ç‰¹æ€§çš„ç‰¹åŒ–ï¼Œä½†æ˜¯ GC é€ƒé€¸ã€å †æ ˆåˆ†æç­‰æ€è·¯æ˜¯å…±é€šçš„ã€‚</p>
<h2 id="æ€§èƒ½åˆ†æ"><a href="#æ€§èƒ½åˆ†æ" class="headerlink" title="æ€§èƒ½åˆ†æ"></a>æ€§èƒ½åˆ†æ</h2><p>ä½¿ç”¨ Pprofï¼ŒæŸ¥çœ‹ç«ç„°å›¾ä»¥åŠå †ä½¿ç”¨æƒ…å†µï¼Œå‘ç°é—®é¢˜æ ¹æºæ˜¯å †ä¸Šçš„å¤§é‡å­˜æ´»å¯¹è±¡ï¼Œå¯¼è‡´äº†ï¼š</p>
<ul>
<li>GC æ ‡è®°é˜¶æ®µï¼Œå¾…æ ‡è®°å¯¹è±¡å¤šï¼Œå¹¶è¡Œæ ‡è®°çš„çº¿ç¨‹å ç”¨å¤§é‡ CPU èµ„æºã€‚</li>
<li>GC æ¸…ç†é˜¶æ®µï¼Œå¾…æ¸…ç†å¯¹è±¡å¤šï¼ŒSTW æ—¶é—´å¢é•¿ã€‚</li>
</ul>
<h2 id="è¯»å†™åˆ†ç¦»"><a href="#è¯»å†™åˆ†ç¦»" class="headerlink" title="è¯»å†™åˆ†ç¦»"></a>è¯»å†™åˆ†ç¦»</h2><p>å°† map åˆ†ä¸ºè¯»å†™ä¸¤ä¸ª mapï¼Œå¹¶åœ¨å®Œæˆæ•°æ®åˆ·æ–°åäº¤æ¢ã€‚è¿™æ„å‘³ç€ä»»ä½•æ—¶åˆ»ï¼Œå†…å­˜ä¸­éƒ½å­˜åœ¨ä¸€ä¸ªåªè¯»çš„ map å’Œä¸€ä¸ªåªå†™çš„ mapï¼Œä»è€Œä¸å†éœ€è¦ä¿éšœå¹¶å‘å®‰å…¨ï¼Œå› ä¸ºå†™æ˜¯å•åç¨‹çš„ã€‚</p>
<p>è¿™ä¹ˆåšçš„å¦å¤–ä¸€ä¸ªå¥½å¤„æ˜¯ï¼Œæ–¹ä¾¿ç‰ºç‰²å†™ map çš„æ€§èƒ½ï¼Œæ¥æ¢å–æ›´å¥½çš„å †åˆ†é…å’Œæ›´å¥½çš„è¯»æ€§èƒ½ã€‚</p>
<h2 id="å †æ ˆä¸å†…è”åˆ†æ"><a href="#å †æ ˆä¸å†…è”åˆ†æ" class="headerlink" title="å †æ ˆä¸å†…è”åˆ†æ"></a>å †æ ˆä¸å†…è”åˆ†æ</h2><ul>
<li>å†™åœºæ™¯é¿å…å †åˆ†é…<ul>
<li>åœ¨å†™åœºæ™¯ï¼Œcase by case çš„åˆ†æä¼ å€¼æ˜¯å¦ä¼šäº§ç”Ÿå †é€ƒé€¸ï¼Œå°½å¯èƒ½çš„å‡å°‘é€ƒé€¸åˆ°å †ä¸Šçš„å¯¹è±¡ï¼Œæœ€ç›´è§‚çš„æ–¹å¼æ˜¯ï¼šå°½å¯èƒ½ä½¿ç”¨å€¼ä¼ é€’ï¼Œå°½ç®¡ä¼šäº§ç”Ÿå¤åˆ¶çš„æ€§èƒ½æŸè€—ï¼Œä½†æ˜¯å†™ map çš„æ€§èƒ½å˜å·®æ˜¯å¯æ¥å—çš„ï¼›æ­¤å¤–ï¼Œåœ¨æŸäº›åœºæ™¯ä¸‹ï¼Œå¯ä»¥ç‰ºç‰²ä»£ç å¯è¯»æ€§æ¥å‡å°‘å‡½æ•°è°ƒç”¨ï¼Œå¦‚æ˜ç¡®ä¸ä¼šå†…è”çš„åœºæ™¯ï¼Œä¼šåœ¨ä¼ é€’å€¼ä»£ä»·å¾ˆå¤§çš„æƒ…å†µä¸‹ï¼Œå–æ¶ˆå‡½æ•°è°ƒç”¨ï¼Œç›´æ¥åˆå¹¶åˆ°è°ƒç”¨å‡½æ•°å†…ã€‚</li>
</ul>
</li>
<li>è¯»åœºæ™¯é¿å…å€¼å¤åˆ¶<ul>
<li>åœ¨è¯»åœºæ™¯ï¼Œç­–ç•¥åˆ™å’Œå†™åœºæ™¯ç›¸åï¼Œè¯»åœºæ™¯ä¼šå°½é‡ä½¿ç”¨æŒ‡é’ˆä¼ é€’ï¼Œé™ä½å€¼å¤åˆ¶çš„ä»£ä»·ã€‚ä¸è¿‡å†…è”ç­–ç•¥åˆ™æ˜¯ä¸€è‡´çš„ã€‚</li>
</ul>
</li>
<li>å†…è”ä¼˜åŒ–<ul>
<li>æˆ‘ä»¬é…ç½®äº† -gcflag&#x3D;â€™-l -lâ€™ï¼Œç‰ºç‰²äºŒè¿›åˆ¶æ–‡ä»¶çš„å¤§å°æ¥æ¢å–æ›´å¤šçš„å†…è”å‡½æ•°ï¼Œä»è€Œå‡å°‘å€¼åœ¨æ ˆä¸Šçš„ä¼ é€’ç”šè‡³é€ƒé€¸åˆ°å †ä¸Šã€‚</li>
</ul>
</li>
</ul>
<h2 id="GC-é€ƒé€¸"><a href="#GC-é€ƒé€¸" class="headerlink" title="GC é€ƒé€¸"></a>GC é€ƒé€¸</h2><p>å‰è¿°çš„ä¼˜åŒ–åªæ˜¯åœ¨å°½å¯èƒ½å‡å°‘å †ä¸Šçš„å¯¹è±¡ï¼Œä½†æ­¤æœåŠ¡çš„å¯¹è±¡å¤šæ•°éƒ½æ¥è‡ª map ä¸­çš„æ•°åä¸‡çš„ k-v å¯¹ï¼Œå› æ­¤æœ€å¤§çš„ç“¶é¢ˆæ˜¯å¦‚ä½•ä¼˜åŒ– mapã€‚</p>
<p>å¾ˆæ˜¾ç„¶ï¼Œè¿™ä¸¤ä¸ª map ä»¥åŠå…¶ä¸­çš„å¯¹è±¡å¤§éƒ¨åˆ†éƒ½æ˜¯é•¿æœŸä¸å˜çš„ï¼Œä¹‹å‰è§è¿‡å¦å¤–ä¸€ä¸ª Java æœåŠ¡æœ‰ç±»ä¼¼åœºæ™¯ï¼Œä»–ä»¬çš„æ€è·¯æ˜¯é€šè¿‡ UNSAFE ä¿®æ”¹å¯¹è±¡å¤´ï¼Œåœ¨åˆå§‹åŒ–å¯¹è±¡çš„æ—¶å€™ç›´æ¥å°†å…¶å­˜æ´»ä»£æ•°æ”¹ä¸º 15ï¼Œä»è€Œä¸éœ€è¦ç»è¿‡ ygc ç›´æ¥åˆ†é…åˆ°è€å¹´ä»£ã€‚</p>
<div class="code-container" data-rel="Java"><figure class="iseeu highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">updateObjAge</span><span class="params">(Object obj, <span class="type">int</span> age)</span> &#123; </span><br><span class="line">  <span class="keyword">if</span>(!toUpdateAgeReady || obj == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span>; </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="type">Long</span> <span class="variable">mark</span> <span class="operator">=</span> UNSAFE.getLong(obj, <span class="number">0L</span>);</span><br><span class="line">  <span class="type">long</span> <span class="variable">result</span> <span class="operator">=</span> mark &amp; AGE_64_MASK | ((<span class="type">long</span>)(age &amp; <span class="number">0xF</span>)) &lt;&lt; <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">  UNSAFE.putLong(obj, <span class="number">0L</span>, result); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>ç„¶è€Œ Go æ²¡æœ‰åˆ†ä»£ GCï¼Œä½†ä¸€ä¸ªç±»ä¼¼çš„æ€è·¯æ˜¯ï¼šèƒ½å¦è®©è¿™äº›å¯¹è±¡å¯¹ Runtime ä¸å¯è§ï¼Œä»è€Œé¿å¼€ GCï¼Ÿè™½ç„¶å¯èƒ½ä¼šå†…å­˜æ³„éœ²ï¼Œä½†æ˜¯åªè¦æ‰‹åŠ¨ç®¡ç†å¥½è¿™äº›å†…å­˜ï¼Œæ”¶ç›Šä¼šæ˜¯å¾ˆå¯è§‚çš„ã€‚</p>
<p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬çš„æƒ³æ³•ä¾¿å¾ˆæ¸…æ™°äº†ï¼šå¦‚ä½•åœ¨ Go ä¸­åšåˆ° GC é€ƒé€¸ï¼ŸArena ä¼¼ä¹å¯è¡Œï¼Œä½†å®ƒç°åœ¨è¿˜æ˜¯å®éªŒç‰¹æ€§ï¼Œå¹¶ä¸” Proposal è¢«æ— é™æœŸæç½®äº†ã€‚ä½† Arena çš„æ€æƒ³æˆ‘ä»¬å¯ä»¥å·ä¸€ä¸‹ï¼Œäºæ˜¯ä¾¿æœ‰äº†è¿™ä¸ªæ€è·¯ã€‚</p>
<h3 id="æ ¸å¿ƒæ€è·¯"><a href="#æ ¸å¿ƒæ€è·¯" class="headerlink" title="æ ¸å¿ƒæ€è·¯"></a>æ ¸å¿ƒæ€è·¯</h3><p>åœ¨æœåŠ¡æ‹‰èµ·æ—¶ï¼Œç»•å¼€è¯­è¨€ APIï¼Œä½¿ç”¨å†…æ ¸ API sys_mmap ç›´æ¥å‘ OS ç”³è¯·å†…å­˜ï¼Œè‡ªè¡Œç®¡ç†æ­¤å†…å­˜ã€‚</p>
<p>ä¼˜åŠ¿ï¼šè¿™ä¸€ç‰‡å†…å­˜æ˜¯æ ¹å¯¹è±¡ä¸å¯è¾¾çš„ï¼ŒGo Runtime æ£€æµ‹ä¸åˆ°è¿™ä¸€ç‰‡å†…å­˜ï¼Œæ ‡è®°å’Œæ¸…ç†å‹åŠ›ä¼šå¤§å¹…é™ä½ã€‚</p>
<p>åŠ£åŠ¿ï¼šéœ€è¦æ‰‹åŠ¨ç®¡ç†å†…å­˜ã€‚</p>
<h3 id="gcescape"><a href="#gcescape" class="headerlink" title="gcescape"></a>gcescape</h3><p><a class="link"   href="https://github.com/hyphennn/gcescape" >https://github.com/hyphennn/gcescape<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<p>å¹¿å‘Šæ—¶é—´ï¼šå¼ºçƒˆæ¨èï¼Œä¸€ä¸ªè¶…å¿«çš„ go collection åº“ï¼Œå¯ä»¥å¸®åŠ©ä½ è¶…å¤§å¹…åº¦çš„é™ä½ gc æ—¶é—´ï¼Œè¶…è¿‡ 99%ï¼</p>
<h3 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h3><p>å¼ƒç”¨æ ‡å‡†åº“ mapï¼Œè‡ªè¡Œå®ç° GCEscapeMapï¼Œä½¿ç”¨ GCEscapeMap ä½œä¸ºæ ¸å¿ƒæ•°æ®çš„å­˜å‚¨ã€‚</p>
<p>æ ¸å¿ƒæ•°æ®ç»“æ„ï¼š</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> GCEscapeMap[T any] <span class="keyword">struct</span> &#123;</span><br><span class="line">	s       []T</span><br><span class="line">	realCap <span class="type">int</span></span><br><span class="line">	realLen <span class="type">int</span></span><br><span class="line">	idxMap  <span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>æ ¸å¿ƒæ–¹æ³•ï¼šå‘å†…æ ¸ç”³è¯·å†…å­˜</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeSlice</span>[<span class="title">T</span> <span class="title">any</span>]<span class="params">(<span class="built_in">len</span> <span class="type">int</span>)</span></span> reflect.SliceHeader &#123;</span><br><span class="line">	fd := <span class="number">-1</span></span><br><span class="line">	<span class="keyword">var</span> t T</span><br><span class="line">	data, _, errno := syscall.Syscall6(</span><br><span class="line">		syscall.SYS_MMAP,</span><br><span class="line">		<span class="number">0</span>, <span class="comment">// address</span></span><br><span class="line">		<span class="type">uintptr</span>(<span class="built_in">len</span>)*unsafe.Sizeof(t),</span><br><span class="line">		syscall.PROT_READ|syscall.PROT_WRITE,</span><br><span class="line">		syscall.MAP_ANON|syscall.MAP_PRIVATE,</span><br><span class="line">		<span class="type">uintptr</span>(fd), <span class="comment">// No file descriptor</span></span><br><span class="line">		<span class="number">0</span>,           <span class="comment">// offset</span></span><br><span class="line">	)</span><br><span class="line">	<span class="keyword">if</span> errno != <span class="number">0</span> &#123;</span><br><span class="line">		<span class="built_in">panic</span>(errno)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> reflect.SliceHeader&#123;</span><br><span class="line">		Data: data,</span><br><span class="line">		Len:  <span class="built_in">len</span>,</span><br><span class="line">		Cap:  <span class="built_in">len</span>,</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>åŸºäºç”³è¯·çš„å†…å­˜åˆå§‹åŒ– GCEscapeMap</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ– GCEscapeMap</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewGCEscapeMap</span>[<span class="title">T</span> <span class="title">any</span>]<span class="params">(<span class="built_in">cap</span> <span class="type">int</span>)</span></span> *GCEscapeMap[T] &#123;</span><br><span class="line">	<span class="keyword">var</span> t T</span><br><span class="line">	<span class="keyword">if</span> reflect.TypeOf(t).Kind() == reflect.Pointer &#123;</span><br><span class="line">		<span class="built_in">panic</span>(<span class="string">&quot;no ptr allowed&quot;</span>)</span><br><span class="line">	&#125;</span><br><span class="line">	data := makeSlice[T](<span class="built_in">cap</span>)</span><br><span class="line">	s := *(*[]T)(unsafe.Pointer(&amp;data))</span><br><span class="line">	<span class="keyword">return</span> &amp;GCEscapeMap[T]&#123;s: s, realCap: <span class="built_in">cap</span>, realLen: <span class="number">0</span>, idxMap: <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]<span class="type">int</span>, <span class="built_in">cap</span>)&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>è¯»&amp;å†™ map</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *GCEscapeMap[T])</span></span> Push(k <span class="type">int</span>, v T) &#123;</span><br><span class="line">	idx, ok := e.idxMap[k]</span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		e.s[idx] = v</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		e.s[e.realLen] = v</span><br><span class="line">		e.realLen++</span><br><span class="line">		e.CheckAndScale()</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *GCEscapeMap[T])</span></span> Get(k <span class="type">int</span>) (*T, <span class="type">bool</span>) &#123;</span><br><span class="line">	idx, ok := e.idxMap[k]</span><br><span class="line">	<span class="keyword">if</span> ok &#123;</span><br><span class="line">		<span class="keyword">return</span> &amp;e.s[idx], <span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="literal">nil</span>, <span class="literal">false</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>e.CheckAndScale(): æ­¤æ–¹æ³•ç”¨äºæ£€æµ‹ realLen å’Œ realCap çš„æ¯”å€¼ï¼Œåœ¨è¶…è¿‡ã€Œå®‰å…¨é˜ˆå€¼ã€æ—¶ä¼šå¼€å§‹å‘Šè­¦ï¼Œåœ¨è¶…è¿‡ã€Œæ‰©å®¹é˜ˆå€¼ã€æ—¶ä¼šå¼€å§‹ä¸»åŠ¨æ‰©å®¹å¹¶å‘Šè­¦ï¼Œå…¶åŸç†å’Œ Slice ä¸€è‡´ï¼Œå¦‚æœä¸»åŠ¨æ‰©å®¹å¤±è´¥ï¼Œå°†ä¸­æ­¢è¯»å†™ map äº¤æ¢å¹¶å‘Šè­¦ã€‚å…¶ä¸­ä¼šå­˜åœ¨å¤§é‡ä¸šåŠ¡å’Œå‘Šè­¦ä»£ç ï¼Œå› æ­¤ä¸å†™äº†ã€‚ </p>
<p>éœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œä¸»åŠ¨æ‰©å®¹æ˜¯éå¸¸å±é™©ã€ä»£ä»·éå¸¸é«˜çš„æ“ä½œï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å°½å¯èƒ½é¿å…å…¶å‡ºç°ï¼šå…³æ³¨å®ä¾‹å†…å­˜ç”¨é‡ï¼›å…³æ³¨ GCEscapeMap å½“å‰ç”¨é‡ã€‚</p>
<h3 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h3><p>GCEscapeMap åŒ…å«ä»¥ä¸‹æˆå‘˜ï¼š</p>
<ul>
<li>s æ˜¯æ•°æ®çœŸå®å­˜å‚¨çš„ä½ç½®ï¼Œç”±äºå…¶æ˜¯ç›´æ¥å‘ OS ç”³è¯·çš„ï¼Œå› æ­¤ä¸ä¼šè¢« Runtime æ‰«æåˆ°ã€‚</li>
<li>realCap å’Œ realLen ç”¨äºæ§åˆ¶ s æ¥å®ç°ç±»ä¼¼ slice çš„åŠŸèƒ½ï¼Œå› ä¸º s å®é™…æ˜¯å®šé•¿çš„ã€‚</li>
<li>idxMap æ˜¯ç”¨äºå®ç° map èƒ½åŠ›çš„ï¼Œå…¶ k,v éƒ½æ˜¯ intï¼Œå› æ­¤ä¼šè¢« Runtime å¿½ç•¥ï¼ˆGo 1.5 å¼€å§‹æä¾›æ­¤ç‰¹æ€§ï¼š<a class="link"   href="https://go-review.googlesource.com/c/go/+/3288%EF%BC%89" >https://go-review.googlesource.com/c/go/+/3288ï¼‰<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></li>
</ul>
<h3 id="æ•ˆæœ"><a href="#æ•ˆæœ" class="headerlink" title="æ•ˆæœ"></a>æ•ˆæœ</h3><p>æˆ‘ä»¬ä½¿ç”¨ benchmark æ¥æ£€éªŒæ€§èƒ½ï¼Œå¹¶ä½¿ç”¨ Pprof æ¥è§‚å¯Ÿå †æƒ…å†µ</p>
<p>benchmarkï¼š</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkEmap</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">	m := emap.NewGCEscapeMap(<span class="number">2000000</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000000</span>; i++ &#123;</span><br><span class="line">		m.Push(i, TestAim&#123;</span><br><span class="line">			Str:    <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Map:    <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;1&quot;</span>: <span class="string">&quot;1&quot;</span>&#125;,</span><br><span class="line">			Value:  <span class="number">0</span>,</span><br><span class="line">			Str2:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str3:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str4:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str5:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str6:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str7:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str8:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Value2: <span class="number">0</span>,</span><br><span class="line">			Value3: <span class="number">0</span>,</span><br><span class="line">			Value4: <span class="number">0</span>,</span><br><span class="line">			Value5: <span class="number">0</span>,</span><br><span class="line">			Value6: <span class="number">0</span>,</span><br><span class="line">			Value7: <span class="number">0</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">		m.Get(i)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkNormalMap</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]emap.Aim, <span class="number">1000000</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000000</span>; i++ &#123;</span><br><span class="line">		m[i] = TestAim&#123;</span><br><span class="line">			Str:    <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Map:    <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;1&quot;</span>: <span class="string">&quot;1&quot;</span>&#125;,</span><br><span class="line">			Value:  <span class="number">0</span>,</span><br><span class="line">			Str2:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str3:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str4:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str5:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str6:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str7:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str8:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Value2: <span class="number">0</span>,</span><br><span class="line">			Value3: <span class="number">0</span>,</span><br><span class="line">			Value4: <span class="number">0</span>,</span><br><span class="line">			Value5: <span class="number">0</span>,</span><br><span class="line">			Value6: <span class="number">0</span>,</span><br><span class="line">			Value7: <span class="number">0</span>,</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">		_ = m[i]</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2024/03/07/Go-GC-%E8%B0%83%E4%BC%98/img.png"
                      class="" title="Benchmark ç»“æœ"
                >

<p>Pprof</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">&quot;net/http&quot;</span></span><br><span class="line">	_ <span class="string">&quot;net/http/pprof&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		http.ListenAndServe(<span class="string">&quot;0.0.0.0:8080&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">	&#125;()</span><br><span class="line">	time.Sleep(time.Second)</span><br><span class="line">	UseGCEscapeMap()</span><br><span class="line">	<span class="comment">//UseNormalMap()</span></span><br><span class="line">	time.Sleep(<span class="number">1000</span> * time.Second)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UseGCEscapeMap</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m := emap.NewGCEscapeMap[TestAim](<span class="number">2000000</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000000</span>; i++ &#123;</span><br><span class="line">		m.Push(i, TestAim&#123;</span><br><span class="line">			Str:    <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Map:    <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;1&quot;</span>: <span class="string">&quot;1&quot;</span>&#125;,</span><br><span class="line">			Value:  <span class="number">0</span>,</span><br><span class="line">			Str2:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str3:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str4:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str5:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str6:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str7:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str8:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Value2: <span class="number">0</span>,</span><br><span class="line">			Value3: <span class="number">0</span>,</span><br><span class="line">			Value4: <span class="number">0</span>,</span><br><span class="line">			Value5: <span class="number">0</span>,</span><br><span class="line">			Value6: <span class="number">0</span>,</span><br><span class="line">			Value7: <span class="number">0</span>,</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		st := time.Now()</span><br><span class="line">		runtime.GC()</span><br><span class="line">		fmt.Printf(<span class="string">&quot;GC took %s\n&quot;</span>, time.Since(st))</span><br><span class="line">		time.Sleep(time.Second)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	runtime.KeepAlive(m)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">UseNormalMap</span><span class="params">()</span></span> &#123;</span><br><span class="line">	m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">int</span>]TestAim, <span class="number">1000000</span>)</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000000</span>; i++ &#123;</span><br><span class="line">		m[i] = TestAim&#123;</span><br><span class="line">			Str:    <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Map:    <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;<span class="string">&quot;1&quot;</span>: <span class="string">&quot;1&quot;</span>&#125;,</span><br><span class="line">			Value:  <span class="number">0</span>,</span><br><span class="line">			Str2:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str3:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str4:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str5:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str6:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str7:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Str8:   <span class="string">&quot;1&quot;</span>,</span><br><span class="line">			Value2: <span class="number">0</span>,</span><br><span class="line">			Value3: <span class="number">0</span>,</span><br><span class="line">			Value4: <span class="number">0</span>,</span><br><span class="line">			Value5: <span class="number">0</span>,</span><br><span class="line">			Value6: <span class="number">0</span>,</span><br><span class="line">			Value7: <span class="number">0</span>,</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		st := time.Now()</span><br><span class="line">		runtime.GC()</span><br><span class="line">		fmt.Printf(<span class="string">&quot;GC took %s\n&quot;</span>, time.Since(st))</span><br><span class="line">		time.Sleep(time.Second)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	runtime.KeepAlive(m)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
<p>UseGCEscapeMapï¼š</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2024/03/07/Go-GC-%E8%B0%83%E4%BC%98/stdout-em.png"
                      class="" title="UseGCEscapeMapè¾“å‡ºç»“æœ"
                >
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2024/03/07/Go-GC-%E8%B0%83%E4%BC%98/heap-status-em.png"
                      class="" title="UseGCEscapeMapå †çŠ¶æ€"
                >

<p>UseNormalMap:</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2024/03/07/Go-GC-%E8%B0%83%E4%BC%98/stdout-nm.png"
                      class="" title="UseNormalMapè¾“å‡ºç»“æœ"
                >
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2024/03/07/Go-GC-%E8%B0%83%E4%BC%98/heap-status-nm.png"
                      class="" title="UseNormalMapå †çŠ¶æ€"
                >]]></content>
      <categories>
        <category>tech</category>
      </categories>
  </entry>
  <entry>
    <title>End&amp;Start</title>
    <url>/2024/02/23/End-Start/</url>
    <content><![CDATA[<h1 id="End-Start"><a href="#End-Start" class="headerlink" title="End&amp;Start"></a>End&amp;Start</h1><p>ç«‹ä¸ª flagï¼šè¿™ä¸ªå‘¨æœ«å†™ç‚¹ä¸œè¥¿ï½</p>
]]></content>
      <categories>
        <category>daily</category>
      </categories>
  </entry>
  <entry>
    <title>Bazel-Next Generation of Build?</title>
    <url>/2024/04/22/bazel-1/</url>
    <content><![CDATA[<h1 id="Bazel-Next-Generation-of-Build"><a href="#Bazel-Next-Generation-of-Build" class="headerlink" title="Bazel: Next Generation of Build?"></a>Bazel: Next Generation of Build?</h1><h2 id="ç»¼è¿°"><a href="#ç»¼è¿°" class="headerlink" title="ç»¼è¿°"></a>ç»¼è¿°</h2><p>Bazel æ˜¯ Google å¼€æºçš„ä¸€æ¬¾ä¸ Makeã€Maven å’Œ Gradle ç±»ä¼¼çš„å¼€æºæ„å»ºå’Œæµ‹è¯•å·¥å…·ï¼Œ å®ƒä½¿ç”¨äººç±»å¯è¯»çš„é«˜çº§æ„å»ºè¯­è¨€ Starlarkï¼Œæ”¯æŒå¤šç§è¯­è¨€ï¼Œå¯ä¸ºå¤šä¸ªå¹³å°æ„å»ºè¾“å‡ºã€‚ Bazel æ”¯æŒä»»æ„å¤§å°çš„æ„å»ºç›®æ ‡ï¼Œå¹¶æ”¯æŒè·¨å¤šä¸ªä»£ç åº“å’Œå¤§é‡ç”¨æˆ·çš„å¤§å‹ä»£ç åº“ï¼Œæ˜¯ Google ä¸»æ¨çš„ä¸€ç§æ„å»ºå·¥å…·ã€‚</p>
<h3 id="Bazel-ä¸å…¶ä»–æ„å»ºå·¥å…·çš„åŒºåˆ«"><a href="#Bazel-ä¸å…¶ä»–æ„å»ºå·¥å…·çš„åŒºåˆ«" class="headerlink" title="Bazel ä¸å…¶ä»–æ„å»ºå·¥å…·çš„åŒºåˆ«"></a>Bazel ä¸å…¶ä»–æ„å»ºå·¥å…·çš„åŒºåˆ«</h3><ul>
<li>åŸºäºä»»åŠ¡ï¼ˆtaskï¼‰çš„æ„å»ºç³»ç»Ÿ</li>
</ul>
<p>åœ¨åŸºäºä»»åŠ¡çš„æ„å»ºç³»ç»Ÿä¸­ï¼ŒåŸºæœ¬çš„å·¥ä½œå•å…ƒæ˜¯ä»»åŠ¡ã€‚æ¯ä¸ªä»»åŠ¡éƒ½æ˜¯å¯ä»¥æ‰§è¡Œä»»ä½•ç±»å‹çš„é€»è¾‘çš„è„šæœ¬ï¼Œè€Œä»»åŠ¡å°†å…¶ä»–ä»»åŠ¡æŒ‡å®šä¸ºå¿…é¡»åœ¨å…¶ä¹‹å‰è¿è¡Œçš„ä¾èµ–é¡¹ã€‚ç›®å‰ä½¿ç”¨çš„ä¸»è¦å¤§å¤šæ•°æ„å»ºç³»ç»Ÿï¼ˆä¾‹å¦‚ Antã€Mavenã€Gradleï¼‰éƒ½åŸºäºä»»åŠ¡ã€‚</p>
<p>åŸºäºä»»åŠ¡çš„æ„å»ºç³»ç»Ÿå¾€å¾€éƒ½ä¼šé¢ä¸´ä¸€ä¸ªé—®é¢˜ï¼šç¨‹åºå‘˜çš„æƒåŠ›è¿‡å¤§ã€‚å› ä¸ºè„šæœ¬èƒ½æ‰§è¡Œçš„åŠ¨ä½œå¤ªä¸°å¯Œï¼Œæ„å»ºç³»ç»Ÿæœ¬èº«å®Œå…¨ä¸çŸ¥é“è„šæœ¬åœ¨åšä»€ä¹ˆï¼Œæ‰€ä»¥å®ƒå¿…é¡»åœ¨å¦‚ä½•è§„åˆ’å’Œæ‰§è¡Œæ„å»ºæ­¥éª¤æ—¶éå¸¸ä¿å®ˆï¼Œä»è€Œå¯¼è‡´æ€§èƒ½å¾ˆå·®ã€‚æ­¤å¤–ï¼Œç³»ç»Ÿä¹Ÿæ²¡æœ‰åŠæ³•ç¡®è®¤æ¯ä¸ªè„šæœ¬çš„ç¡®åœ¨åšä»¥åŠæ­£ç¡®å®Œæˆå®ƒå£°ç§°è¦å®Œæˆçš„å·¥ä½œï¼Œå› æ­¤ç³»ç»Ÿå¾€å¾€ä¼šå˜å¾—éå¸¸å¤æ‚ã€‚è¿™å°±äº§ç”Ÿäº†ä¸¤ä¸ªé—®é¢˜ï¼šéš¾ä»¥å¹¶å‘ã€‚å› ä¸ºç³»ç»Ÿæ— æ³•äº†è§£è„šæœ¬æ˜¯å¦å¹¶å‘å®‰å…¨ï¼Œå› æ­¤å¾€å¾€é‡‡ç”¨ä¸²è¡Œçš„æ–¹æ¡ˆã€‚éš¾ä»¥å¢é‡æ„å»ºã€‚</p>
<ul>
<li>åŸºäºåˆ¶å“ï¼ˆArtifactï¼‰çš„æ„å»ºå·¥å…·</li>
</ul>
<p>åŸºäºåˆ¶å“çš„æ„å»ºå·¥å…·é‡‡ç”¨äº†å®Œå…¨ä¸ä¸€æ ·çš„é€»è¾‘ï¼Œåœ¨è¿™æ ·çš„ç³»ç»Ÿä¸­ï¼Œç¨‹åºå‘˜çš„æƒåŠ›è¢«å¤§å¹…ç¼©å‡ï¼Œã€Œä»»åŠ¡ã€è½¬ä¸ºç”±æ„å»ºç³»ç»Ÿåˆ¶å®šï¼Œç¨‹åºå‘˜å¯ä»¥å¯¹ä»»åŠ¡åšæœ‰é™çš„é…ç½®ï¼Œä½†ä¸èƒ½å†³å®šä»»åŠ¡ä½•æ—¶æ‰§è¡Œã€å¦‚ä½•æ‰§è¡Œã€‚ç¨‹åºå‘˜åªèƒ½æŒ‡å®šã€Œä¾èµ–é¡¹ã€å’Œã€Œæ„å»ºç›®æ ‡ã€ï¼Œç”±æ„å»ºç³»ç»Ÿå†³å®šå¦‚ä½•æ‰§è¡Œæ„å»ºã€‚</p>
<p>å…·ä½“åˆ° Bazel æ¥è¯´ï¼ŒBazel æä¾›äº†ä¸€ç³»åˆ—ã€Œruleã€ï¼Œè¿™äº› rule æ—¢å¯ä»¥æ˜¯å®˜æ–¹å›¢é˜Ÿç»´æŠ¤çš„åˆæœ‰å¯ä»¥æ˜¯ç¬¬ä¸‰æ–¹ç»´æŠ¤çš„ã€‚ç¨‹åºå‘˜åœ¨ä½¿ç”¨ Bazel æ—¶ï¼Œåªéœ€è¦æŒ‡å®šæ‰€ä½¿ç”¨çš„ ruleï¼Œæ„å»ºç›®æ ‡ä»¥åŠä¾èµ–é¡¹ï¼›Bazel å°†è‡ªåŠ¨è§£æä¾èµ–å…³ç³»ï¼Œå¹¶å°½å¯èƒ½ä»¥æœ€é«˜æ•ˆç‡æ¥å®Œæˆæ„å»ºã€‚</p>
<h3 id="Why-Bazelï¼Ÿ"><a href="#Why-Bazelï¼Ÿ" class="headerlink" title="Why Bazelï¼Ÿ"></a>Why Bazelï¼Ÿ</h3><ul>
<li>fast &amp; correct</li>
<li>é«˜æ‰©å±•æ€§ï¼Œå¤šè¯­è¨€æ”¯æŒ</li>
<li>å¯¹å¤§ä»“å‹å¥½</li>
<li>é™åˆ¶ç¨‹åºå‘˜çš„æƒåŠ›</li>
</ul>
<h2 id="æ„å»º"><a href="#æ„å»º" class="headerlink" title="æ„å»º"></a>æ„å»º</h2><h3 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h3><p>å½“ç”¨æˆ·å‘Šè¯‰ Bazel è¦æ„å»ºæŸä¸ª Target çš„æ—¶å€™ï¼ŒBazel ä¼šåˆ†æè¿™ä¸ªæ–‡ä»¶å¦‚ä½•æ„å»ºï¼ˆæ„å»ºåŠ¨ä½œå®šä¹‰ä¸º Actionï¼Œå’Œå…¶ä»–æ„å»ºç³»ç»Ÿçš„ Task å¤§åŒå°å¼‚ï¼‰ï¼Œå¦‚æœ Target ä¾èµ–äº†å…¶ä»– Targetï¼ŒBazel ä¼šè¿›ä¸€æ­¥åˆ†æä¾èµ–çš„ Target åˆæ˜¯å¦‚ä½•æ„å»ºç”Ÿæˆçš„ï¼Œè¿™æ ·ä¸€å±‚å±‚åˆ†æä¸‹å»ï¼Œæœ€ç»ˆç»˜åˆ¶å‡ºå®Œæ•´çš„æ‰§è¡Œè®¡åˆ’ã€‚</p>
<p>è¿™é‡Œçš„ Action æ˜¯ Bazel çš„æ ¸å¿ƒæ¦‚å¿µï¼Œä¹Ÿæ˜¯ Bazel åŒºåˆ†äºå…¶ä»–æ„å»ºå·¥å…·çš„é‡è¦å› ç´ ï¼šAction ç”± Rule å†³å®šï¼Œæœ¬è´¨ä¸Šæ˜¯ Rule çš„å®ä¾‹åŒ–ï¼›è€Œ Rule ä¸ç”±æ„å»ºè€…å†³å®šï¼Œæ„å»ºè€…åªèƒ½å£°æ˜ä½¿ç”¨äº†æŸä¸ª Ruleã€‚æ›´å…·ä½“çš„æ¥è¯´ï¼ŒRule æ˜¯å‰¥ç¦»äºé¡¹ç›®å¤–çš„ï¼Œç”± Bazel å®˜æ–¹å¼€å‘ï¼ŒåŒæ—¶å¯¹å¤–æš´éœ²ç›¸å…³å®šä¹‰ï¼Œä»è€Œå…è®¸ç¬¬ä¸‰æ–¹å¼€å‘è€…å¼€å‘è‡ªå®šä¹‰ Ruleã€‚</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2024/04/22/bazel-1/task.png"
                      class="" title="Bazel åŸç†"
                >

<p>ä¸¾ä¸ªğŸŒ°ï¼Œä¸‹é¢æ˜¯ä¸¤ä¸ª BUILD.Bazel æ–‡ä»¶( Bazel æè¿°æ–‡ä»¶)</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="code"><pre><span class="line">// main/BUILD.bazel</span><br><span class="line">cc_binary(</span><br><span class="line">    name = &quot;hello-world&quot;,</span><br><span class="line">    srcs = [&quot;hello-world.cc&quot;],</span><br><span class="line">    deps = [</span><br><span class="line">        &quot;:hello-greet&quot;,</span><br><span class="line">        &quot;//lib:hello-time&quot;</span><br><span class="line">    ]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cc_library(</span><br><span class="line">    name = &quot;hello-greet&quot;,</span><br><span class="line">    srcs = [&quot;hello-greet.cc&quot;],</span><br><span class="line">    hdrs = [&quot;hello-greet.h&quot;]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">// lib/BUILD.bazel</span><br><span class="line">cc_library(</span><br><span class="line">    name = &quot;hello-time&quot;,</span><br><span class="line">    srcs = [&quot;hello-time.cc&quot;],</span><br><span class="line">    hdrs = [&quot;hello-time.h&quot;],</span><br><span class="line">    deps = [</span><br><span class="line">        &quot;:sum&quot;</span><br><span class="line">        &quot;//proto:example_data&quot;</span><br><span class="line">    ],</span><br><span class="line">    visibility = [&quot;//main:__pkg__&quot;]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cc_library(</span><br><span class="line">    name = &quot;sum&quot;,</span><br><span class="line">    srcs = [&quot;sum.cpp&quot;],</span><br><span class="line">    hdrs = [&quot;sum.h&quot;],</span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>


<p>æœ€ç»ˆï¼ŒBazel ä¼šç”Ÿæˆç±»ä¼¼äºå¦‚ä¸‹çš„ç¼–è¯‘äº§ç‰©ï¼š</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="/2024/04/22/bazel-1/process.png"
                      class="" title="ç¼–è¯‘è¿‡ç¨‹"
                >

<h3 id="å¹¶è¡Œç¼–è¯‘"><a href="#å¹¶è¡Œç¼–è¯‘" class="headerlink" title="å¹¶è¡Œç¼–è¯‘"></a>å¹¶è¡Œç¼–è¯‘</h3><p>Bazel ç²¾å‡†çš„çŸ¥é“æ¯ä¸ª Action ä¾èµ–å“ªäº›æ–‡ä»¶ï¼Œè¿™ä½¿å¾—æ²¡æœ‰ç›¸äº’ä¾èµ–å…³ç³»çš„ Action å¯ä»¥å¹¶è¡Œæ‰§è¡Œï¼Œè€Œä¸ç”¨æ‹…å¿ƒç«äº‰é—®é¢˜ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸ CPU çš„ç‰¹æ€§ï¼Œå°½å¯èƒ½æé«˜å¹¶å‘ï¼Œä¼˜åŒ–æ„å»ºæ•ˆç‡ã€‚</p>
<h3 id="å¢é‡æ„å»º"><a href="#å¢é‡æ„å»º" class="headerlink" title="å¢é‡æ„å»º"></a>å¢é‡æ„å»º</h3><p>Bazel ä¼šæ£€æµ‹æœ¬åœ°æ–‡ä»¶ç³»ç»Ÿæ˜¯å¦ä¿ç•™ç€ä¸Šä¸€æ¬¡æ„å»ºçš„ outputsï¼Œå¦‚æœæœ‰ï¼Œæ­¤æ—¶ Bazel åªéœ€è¦åˆ†æ inputs, commands å’Œ envs å’Œä¸Šæ¬¡ç›¸æ¯”æœ‰æ²¡æœ‰æ”¹å˜ï¼Œæ²¡æœ‰æ”¹å˜å°±ç›´æ¥è·³è¿‡è¯¥ Action çš„æ‰§è¡Œã€‚å°½ç®¡è¿™ä¸ªåŠŸèƒ½å¾ˆå¤šç°ä»£æ„å»ºå·¥å…·éƒ½æ”¯æŒï¼Œä½† Bazel ä»æœ‰ç‹¬ç‰¹çš„ä¼˜åŠ¿ï¼šæ›´å¿«ï¼Œæ›´å‡†ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºï¼šBazel é‡‡ç”¨äº† Client&#x2F;Server æ¶æ„ï¼Œå½“ç”¨æˆ·é”®å…¥ Bazel build å‘½ä»¤æ—¶ï¼Œè°ƒç”¨çš„æ˜¯ Bazel çš„ client å·¥å…·ï¼Œè€Œ client ä¼šæ‹‰èµ· serverï¼Œå¹¶é€šè¿‡ grpc åè®®å°†è¯·æ±‚ (buildRequest) å‘é€ç»™å®ƒã€‚ç”± server è´Ÿè´£é…ç½®çš„åŠ è½½ï¼ŒActionGraph çš„ç”Ÿæˆå’Œæ‰§è¡Œã€‚æ„å»ºç»“æŸåï¼ŒServer å¹¶ä¸ä¼šç«‹å³é”€æ¯ï¼Œè€Œ ActionGraph ä¹Ÿä¼šä¸€ç›´ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚å½“ç”¨æˆ·ç¬¬äºŒæ¬¡å‘èµ·æ„å»ºæ—¶ï¼ŒBazel ä¼šæ£€æµ‹å·¥ä½œç©ºé—´çš„å“ªäº›æ–‡ä»¶å‘ç”Ÿäº†æ”¹å˜ï¼Œå¹¶æ›´æ–° ActionGraphã€‚å¦‚æœæ²¡æœ‰æ–‡ä»¶æ”¹å˜ï¼Œå°±ä¼šç›´æ¥å¤ç”¨ä¸Šä¸€æ¬¡çš„ ActionGraph è¿›è¡Œåˆ†æã€‚</p>
<h3 id="å°é—­æ€§"><a href="#å°é—­æ€§" class="headerlink" title="å°é—­æ€§"></a>å°é—­æ€§</h3><p>Bazel å°†æ„å»ºåˆ†ä¸ºå¤šä¸ª actionï¼Œå•ä¸ª action è¢«è¦æ±‚æ˜¯ã€Œå°é—­ã€çš„ï¼Œè¿™æ„å‘³ç€ï¼šåœ¨ä»»ä½•æ—¶é—´ã€ä»»ä½•åœºæ™¯ï¼Œç›¸åŒçš„ action æ€»åº”è¯¥è·å¾—ç›¸åŒçš„ç»“æœã€‚å°é—­æ€§æ˜¯ Bazel è¿œç¨‹ç¼“å­˜ä¸è¿œç¨‹æ‰§è¡Œçš„åŸºç¡€ã€‚é€šå¸¸æ¥è¯´ï¼ŒBazel çš„ rule ä¼šå°½æœ€å¤§å¯èƒ½æ»¡è¶³å°é—­æ€§ã€‚</p>
<h2 id="è¿œç¨‹æ‰§è¡Œ"><a href="#è¿œç¨‹æ‰§è¡Œ" class="headerlink" title="è¿œç¨‹æ‰§è¡Œ"></a>è¿œç¨‹æ‰§è¡Œ</h2><p>åœ¨ä¸Šè¿°çš„æ¶æ„ä¸­ï¼Œæˆ‘ä»¬å‘ç°ï¼Œæ—¢ç„¶ Bazel Action çš„æ‰§è¡Œæ˜¯å°é—­çš„ï¼Œé‚£ä¹ˆå®ƒåœ¨å“ªé‡Œæ‰§è¡Œï¼Œæœ‰è°æ‰§è¡Œï¼Œä¾¿ä¸å†é‡è¦ï¼Œå› æ­¤ï¼Œä¸€ä¸ªç›´è§‚çš„æƒ³æ³•ä¾¿å‡ºç°äº†ï¼šä¸ºä»€ä¹ˆä¸èƒ½åœ¨è¿œç¨‹æ‰§è¡Œæ„å»ºï¼Œæœ¬åœ°åªéœ€è¦ä¸‹è½½äº§ç‰©å³å¯å‘¢ï¼Ÿè¿œç¨‹ç¼“å­˜å’Œè¿œç¨‹æ„å»ºä¾¿æ˜¯ bazel åœ¨è¿™æ–¹é¢çš„å®è·µã€‚</p>
<h3 id="è¿œç¨‹ç¼“å­˜"><a href="#è¿œç¨‹ç¼“å­˜" class="headerlink" title="è¿œç¨‹ç¼“å­˜"></a>è¿œç¨‹ç¼“å­˜</h3><p>å› ä¸º Action æ»¡è¶³å°é—­æ€§ï¼Œå³ç›¸åŒçš„ Action ä¿¡æ¯ä¸€å®šäº§ç”Ÿç›¸åŒçš„ç»“æœï¼Œå› æ­¤å¯ä»¥å»ºç«‹ Action åˆ° ActionResult çš„æ˜ å°„ã€‚ä¸ºäº†ä¾¿äºç´¢å¼•ï¼ŒBazel æŠŠ Action ä¿¡æ¯é€šè¿‡ sha256 å“ˆå¸Œç®—æ³•å‹ç¼©æˆæ‘˜è¦ (Digest)ï¼ŒæŠŠ Digest åˆ° ActionResult çš„æ˜ å°„å­˜å‚¨åœ¨äº‘ç«¯ï¼Œå°±å¯ä»¥å®ç° Action çš„è¿œç¨‹ç¼“å­˜ã€‚å…¶ä»–ç”¨æˆ·&#x2F;æœºå™¨åœ¨æ‰§è¡ŒæŸä¸ª Action çš„æ—¶å€™ï¼Œå¯ä»¥å…ˆæŸ¥è¯¢æ­¤ Action æ˜¯å¦å­˜åœ¨ã€‚å¦‚æœå­˜åœ¨ï¼Œç›´æ¥å¤ç”¨å³å¯ã€‚</p>
<p>è¿œç¨‹ç¼“å­˜çš„æ›´å¤šä¿¡æ¯å¯ä»¥å‚è§ï¼š<a class="link"   href="https://km.sankuai.com/collabpage/2006036512" >https://km.sankuai.com/collabpage/2006036512<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h3 id="è¿œç¨‹æ„å»º"><a href="#è¿œç¨‹æ„å»º" class="headerlink" title="è¿œç¨‹æ„å»º"></a>è¿œç¨‹æ„å»º</h3><p>æ›´è¿›ä¸€æ­¥çš„ï¼Œæ—¢ç„¶ ActionResult å¯ä»¥è¢«ä¸åŒçš„ Bazel ä»»åŠ¡å…±äº«ï¼Œè¯´æ˜ ActionResult å’Œ Action åœ¨å“ªé‡Œæ‰§è¡Œå¹¶æ²¡æœ‰å…³ç³»ã€‚å› æ­¤ï¼ŒBazel åœ¨æ„å»ºæ—¶ï¼Œå¯ä»¥æŠŠ Action å‘é€ç»™å¦ä¸€å°æœåŠ¡å™¨æ‰§è¡Œï¼Œå¯¹æ–¹æ‰§è¡Œå®Œï¼Œå‘ CAS ä¸Šä¼  ActionResultï¼Œç„¶åæœ¬åœ°å†ä¸‹è½½ã€‚</p>
<p>è¿œç¨‹æ„å»ºçš„æ›´å¤šä¿¡æ¯å¯ä»¥å‚è§ï¼š<a class="link"   href="https://km.sankuai.com/collabpage/2113624250" >https://km.sankuai.com/collabpage/2113624250<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a></p>
<h2 id="æŒ‘æˆ˜-No-Silver-Bullet"><a href="#æŒ‘æˆ˜-No-Silver-Bullet" class="headerlink" title="æŒ‘æˆ˜- No Silver Bullet"></a>æŒ‘æˆ˜- No Silver Bullet</h2><ul>
<li>å°é—­æ€§</li>
</ul>
<p>æ¯«æ— ç–‘é—®ï¼Œã€Œå°é—­ã€æ˜¯è¿œç¨‹æ‰§è¡Œçš„ç”Ÿå‘½çº¿ï¼Œæ— è®ºæ˜¯å¢é‡æ„å»ºè¿˜æ˜¯è¿œç¨‹æ‰§è¡Œï¼Œä½†æ˜¯ï¼Œæƒ³è¦çœŸæ­£åšåˆ°å°é—­æ€§å¹¶ä¸å®¹æ˜“ï¼Œå°¤å…¶æ˜¯å¯¹äº C++ è¿™ç±»è¯­è¨€ï¼Œå¤§éƒ¨åˆ† C++ é¡¹ç›®éƒ½å¯¹æœ¬åœ°ç¼“å­˜å­˜åœ¨ä¸¥æ ¼çš„è¦æ±‚ï¼Œå¦‚ gcc ç‰ˆæœ¬ï¼Œlib åº“ç­‰ç­‰ï¼Œè¿™äº›éƒ½æ˜¯å°é—­æ€§çš„å¤©æ•Œã€‚å¦‚ä½•æä¾›å°é—­æ€§æ›´å¥½çš„ ruleï¼Œä»¥åŠè§£å†³ä¸å°é—­å¸¦æ¥çš„è¯¸å¤šé—®é¢˜ï¼Œå§‹ç»ˆæ˜¯ Bazel çš„é‡è¦æŒ‘æˆ˜ã€‚</p>
<ul>
<li>è¿œç¨‹æ„å»º</li>
</ul>
<p>è¿œç¨‹æ„å»ºæ˜¯ Bazel çš„æ ¸å¿ƒå‘å±•ç›®æ ‡ä¹‹ä¸€ï¼Œå¦‚æœæ²¡æœ‰è¿œç¨‹æ„å»ºï¼ŒBazel åªæ˜¯ä¸€ä¸ªä¼˜ç§€çš„æ„å»ºå·¥å…·ï¼Œä½†è¿œç¨‹æ„å»ºåˆ™ä½¿å¾— Bazel èƒ½å¤Ÿå‘å±•ä¸ºæ”¯æ’‘ä¼ä¸šçº§åˆ«çš„å¤§å‹åˆ†å¸ƒå¼æ„å»ºç³»ç»Ÿã€‚ä½†æ˜¯ï¼Œå¿…é¡»æ‰¿è®¤çš„æ˜¯ï¼Œè¿œç¨‹æ„å»ºä»ç„¶è¿˜åœ¨å‘å±•é˜¶æ®µï¼Œè®¸å¤šé—®é¢˜ä»ç„¶æœ‰å¾…è§£å†³ã€‚</p>
<ul>
<li>è§„æ¨¡</li>
</ul>
<p>äº‹å®ä¸Šï¼ŒBazel çš„ä¼˜åŠ¿ä¹Ÿå­˜åœ¨ä¸€å®šçš„å±€é™æ€§ï¼Œå› ä¸ºå…¶æœ€åˆè®¾è®¡ç›®æ ‡æ˜¯ä¸ºäº†è§£å†³è°·æ­Œå†…éƒ¨å¤§ä»“çš„æ„å»ºé—®é¢˜ï¼Œå› æ­¤å¤©ç„¶å€¾å‘äºå¤§è§„æ¨¡ã€å¤šè¯­è¨€ã€å¤šç»´æŠ¤äººå‘˜çš„å¤§å‹ä»“åº“ï¼Œä¸ºäº†å¯¹å¤§ä»“å‹å¥½ä»˜å‡ºäº†è®¸å¤šå…¶ä»–æ–¹é¢çš„ä»£ä»·ï¼Œå°½ç®¡å¯¹äºå¤§ä»“è€Œè¨€ï¼Œè¿™äº›ä»£ä»·ç›¸è¾ƒäºå¾—åˆ°çš„ä¼˜åŠ¿å¯æ¥å—ç”šè‡³å¾®ä¸è¶³é“ï¼Œä½†å¯¹äºæ™®é€šä»“åº“è€Œè¨€åˆ™æœªå¿…å¦‚æ­¤ã€‚å½’æ ¹ç»“åº•ï¼Œè¿™æ˜¯è§„æ¨¡çš„é—®é¢˜ã€‚</p>
<blockquote>
<p>2020å¹´ï¼Œæœ‰ issue è¦æ±‚åœ¨ k8s é¡¹ç›®ä¸­ç§»é™¤ Bazel (<a class="link"   href="https://github.com/kubernetes/kubernetes/issues/88553)%EF%BC%8C%E6%AD%A4" >https://github.com/kubernetes/kubernetes/issues/88553)ï¼Œæ­¤<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> issue åœ¨ç¤¾åŒºå¼•å‘äº†çƒ­çƒˆçš„è®¨è®ºï¼Œå¹¶ä¸”æœ€ç»ˆåœ¨ 2021 å¹´å®£å¸ƒé€šè¿‡å¹¶åˆå…¥ä¸»åˆ†æ”¯ã€‚æ€»ç»“æ­¤ issueï¼Œæ ¸å¿ƒåŸå› æ˜¯ï¼š</p>
<p>k8s æœ¬èº«æ˜¯å•è¯­è¨€ï¼ˆGoï¼‰é¡¹ç›®ï¼Œæ—©æœŸå¼•å…¥ Bazel çš„æ˜¯ä¸ºäº†ä½¿ç”¨æ„å»ºç¼“å­˜ï¼Œä½† Go åç»­æ”¯æŒäº†æ„å»ºç¼“å­˜ï¼Œæ­¤æ—¶ Bazel å¯¹äº k8s è€Œè¨€å‡ ä¹æ²¡æœ‰ä¼˜åŠ¿ï¼Œåè€Œä¼šä¸ºäº†ç»´æŠ¤ Bazel å’Œ go-build ä¸¤å¥—æ„å»ºå·¥å…·ä»˜å‡ºå¾ˆå¤§çš„ä»£ä»·ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>tech</category>
      </categories>
  </entry>
  <entry>
    <title>å¤§å‚ç¥›é­…</title>
    <url>/2024/04/19/career-review/</url>
    <content><![CDATA[<h1 id="å¤§å‚ç¥›é­…"><a href="#å¤§å‚ç¥›é­…" class="headerlink" title="å¤§å‚ç¥›é­…"></a>å¤§å‚ç¥›é­…</h1><p>æˆ‘ç»™ä½ å†™ä¸ªè›‹ï¼Œç¨‹åºå‘˜éƒ½åœ¨å¿™ç€æç¨‹åºå‘¢ï¼Œå“ªæœ‰äººçœ‹è¿™ç ´åšå®¢ï½</p>
]]></content>
      <categories>
        <category>daily</category>
      </categories>
  </entry>
  <entry>
    <title>ä¸€äº›ç¢ç¢å¿µ</title>
    <url>/1999/10/01/fragment/</url>
    <content><![CDATA[<style>
    .cd-timeline.svelte-1t2uafz .svelte-1t2uafz,.cd-timeline.svelte-1t2uafz .svelte-1t2uafz::after,.cd-timeline.svelte-1t2uafz .svelte-1t2uafz::before{-webkit-box-sizing:border-box;box-sizing:border-box}.cd-timeline.svelte-1t2uafz{font-size:1.6rem;font-family:"Droid Serif", serif;color:#7f8c97;background-color:#e9f0f5}.cd-timeline.svelte-1t2uafz a{color:#acb7c0;text-decoration:none}.cd-timeline.svelte-1t2uafz img{max-width:100%}.cd-timeline.svelte-1t2uafz h1,h2{font-family:"Open Sans", sans-serif;font-weight:bold}.cd-timeline.svelte-1t2uafz{overflow:hidden;margin:2em auto}.cd-timeline__container.svelte-1t2uafz{position:relative;width:90%;max-width:1170px;margin:0 auto;padding:2em 0}.cd-timeline__container.svelte-1t2uafz::before{content:'';position:absolute;top:0;left:18px;height:100%;width:4px;background:#d7e4ed}@media only screen and (min-width: 1170px){.cd-timeline.svelte-1t2uafz{margin-top:3em;margin-bottom:3em}.cd-timeline__container.svelte-1t2uafz::before{left:50%;margin-left:-2px}}.cd-timeline__block.svelte-1t2uafz{position:relative;margin:2em 0}.cd-timeline__block.svelte-1t2uafz:after{content:"";display:table;clear:both}.cd-timeline__block.svelte-1t2uafz:first-child{margin-top:0}.cd-timeline__block.svelte-1t2uafz:last-child{margin-bottom:0}@media only screen and (min-width: 1170px){.cd-timeline__block.svelte-1t2uafz{margin:4em 0}}.cd-timeline__img.svelte-1t2uafz{position:absolute;top:0;left:0;width:40px;height:40px;border-radius:50%;-webkit-box-shadow:0 0 0 4px white, inset 0 2px 0 rgba(0, 0, 0, 0.08), 0 3px 0 4px rgba(0, 0, 0, 0.05);box-shadow:0 0 0 4px white, inset 0 2px 0 rgba(0, 0, 0, 0.08), 0 3px 0 4px rgba(0, 0, 0, 0.05)}.cd-timeline__img.svelte-1t2uafz{background:#75ce66}@media only screen and (min-width: 1170px){.cd-timeline__img.svelte-1t2uafz{width:60px;height:60px;left:50%;margin-left:-30px;-webkit-transform:translateZ(0);transform:translateZ(0)}}@-webkit-keyframes svelte-1t2uafz-cd-bounce-1{0%{opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}60%{opacity:1;-webkit-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes svelte-1t2uafz-cd-bounce-1{0%{opacity:0;-webkit-transform:scale(0.5);transform:scale(0.5)}60%{opacity:1;-webkit-transform:scale(1.2);transform:scale(1.2)}100%{-webkit-transform:scale(1);transform:scale(1)}}.cd-timeline__content.svelte-1t2uafz{position:relative;margin-left:60px;background:white;border-radius:0.25em;padding:1em;-webkit-box-shadow:0 3px 0 #d7e4ed;box-shadow:0 3px 0 #d7e4ed}.cd-timeline__content.svelte-1t2uafz:after{content:"";display:table;clear:both}.cd-timeline__content.svelte-1t2uafz::before{content:'';position:absolute;top:16px;right:100%;height:0;width:0;border:7px solid transparent;border-right:7px solid white}.cd-timeline__content.svelte-1t2uafz h2.svelte-1t2uafz{color:#303e49}.cd-timeline__content.svelte-1t2uafz p,.cd-timeline__date.svelte-1t2uafz{font-size:1.3rem}.cd-timeline__content.svelte-1t2uafz p{margin:1em 0;line-height:1.6}.cd-timeline__date.svelte-1t2uafz{display:inline-block}.cd-timeline__date.svelte-1t2uafz{float:left;padding:.8em 0;opacity:.7}@media only screen and (min-width: 768px){.cd-timeline__content.svelte-1t2uafz h2.svelte-1t2uafz{font-size:2rem}.cd-timeline__content.svelte-1t2uafz p{font-size:1.6rem}.cd-timeline__date.svelte-1t2uafz{font-size:1.4rem}}@media only screen and (min-width: 1170px){.cd-timeline__content.svelte-1t2uafz{margin-left:0;padding:1.6em;width:45%;-webkit-transform:translateZ(0);transform:translateZ(0)}.cd-timeline__content.svelte-1t2uafz::before{top:24px;left:100%;border-color:transparent;border-left-color:white}.cd-timeline__date.svelte-1t2uafz{position:absolute;width:100%;left:122%;top:6px;font-size:1.6rem}.cd-timeline__block.svelte-1t2uafz:nth-child(even) .cd-timeline__content.svelte-1t2uafz{float:right}.cd-timeline__block.svelte-1t2uafz:nth-child(even) .cd-timeline__content.svelte-1t2uafz::before{top:24px;left:auto;right:100%;border-color:transparent;border-right-color:white}.cd-timeline__block.svelte-1t2uafz:nth-child(even) .cd-timeline__date.svelte-1t2uafz{left:auto;right:122%;text-align:right}}@-webkit-keyframes svelte-1t2uafz-cd-bounce-2{0%{opacity:0;-webkit-transform:translateX(-100px);transform:translateX(-100px)}60%{opacity:1;-webkit-transform:translateX(20px);transform:translateX(20px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes svelte-1t2uafz-cd-bounce-2{0%{opacity:0;-webkit-transform:translateX(-100px);transform:translateX(-100px)}60%{opacity:1;-webkit-transform:translateX(20px);transform:translateX(20px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes svelte-1t2uafz-cd-bounce-2-inverse{0%{opacity:0;-webkit-transform:translateX(100px);transform:translateX(100px)}60%{opacity:1;-webkit-transform:translateX(-20px);transform:translateX(-20px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes svelte-1t2uafz-cd-bounce-2-inverse{0%{opacity:0;-webkit-transform:translateX(100px);transform:translateX(100px)}60%{opacity:1;-webkit-transform:translateX(-20px);transform:translateX(-20px)}100%{-webkit-transform:translateX(0);transform:translateX(0)}}
    </style>
<section class="cd-timeline js-cd-timeline svelte-1t2uafz">
    <div class="cd-timeline__container svelte-1t2uafz">
        <div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
ä¸Šç­æ— èŠ->åˆ·æ¯æ—¥ä¸€é¢˜->æ‰“å¼€leetcode->å‘ç°hard->å†è§ğŸ‘‹
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-12-16</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
ä»Šå¹´çš„å‚¨è“„è®¡åˆ’å½»åº•ç ´äº§ï¼Œåˆ†å¸ä¸å‰©ï¼Œä¸¥é‡è¶…æ”¯ï¼Œçƒ¦æ­»äº†
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-12-10</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
è£…ä¿®çœŸçš„å¥½éº»çƒ¦å•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šå•Šã€‚
èº«è¾¹çš„æ¯ä¸ªæœ‹å‹éƒ½åœ¨è¯´ï¼Œæˆ‘è£…å‡ºæ¥çš„æˆ¿å­æ²¡æœ‰å®¶çš„æ„Ÿè§‰ï¼Œå¤ªå†·äº†ã€‚
å¯æ˜¯æˆ‘ä¹Ÿä¸çŸ¥é“åˆ°åº•ä»€ä¹ˆæ˜¯å®¶çš„æ„Ÿè§‰ï¼Œæ¯•ç«Ÿä» 9 å²å¼€å§‹ï¼Œå°±ä¸€ç›´ä½åœ¨å®¿èˆäº†ã€‚
ğŸ˜Š
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-12-10</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
æˆ‘å†™ä¸å‡ºç®—æ³•é¢˜ï¼Œä¹Ÿå†™ä¸å‡ºæ–¹æ¡ˆã€‚ã€‚ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“è¯¥å’‹åŠäº†
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-08-28</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
åšäº†ä¸ªå¾ˆå¥‡æ€ªçš„æ¢¦ï¼Œæ¢¦åˆ°äº†å¾ˆå¤šå¹´å‰çš„ä¸€ä¸ªäººã€‚å¯æƒœï¼Œå·²ç»è¿åœ¨æ¢¦é‡Œéƒ½ä¸è®°å¾—é‚£ä¸ªäººçš„æ ·å­äº†ã€‚
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-07-05</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
ä»€ä¹ˆæ—¶å€™æ‰èƒ½å†™æ˜ç™½åŠ¨æ€è§„åˆ’é¢˜ã€‚ã€‚ã€‚btw. å‡å¦‚æˆ‘çš„åŠ›æ‰£åˆ·é¢˜æ—¥å†åƒæˆ‘çš„ç‘å¹¸å’–å•¡æ—¥å†å°±å¥½äº†ã€‚ã€‚ã€‚
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-06-28</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
æ‰“ç®—å‡çº§ä¸‹æ•´ä¸ªç«™ç‚¹çš„ä¸»é¢˜å’ŒåŠŸèƒ½ï¼Œæ‰¾äº†å¾ˆä¹…ï¼Œé‚£äº›è´¼æ‹‰ç‚«é…·çš„ç«™ç‚¹æˆ‘è¿™ç§ä¸šä½™å‰ç«¯æ˜¯çœŸçš„æ­ä¸èµ·æ¥ï¼Œè¿˜æ˜¯ç›´æ¥ç”¨ butterfly å§
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-06-24</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
å¥½æƒ³ 618 ç»™è‡ªå·±ä¹°ç‚¹ä¸œè¥¿å•Šï¼Œä¸ç„¶å¥½ä¹…æ²¡æ¶ˆè´¹äº†ï¼Œæ„Ÿè§‰é’±éƒ½ç™½èµšäº†ã€‚ã€‚ã€‚ä½†æ˜¯ä¸€çœ‹è‡ªå·±å¡é‡Œ 5000 å—é’±éƒ½æ²¡äº†ã€‚ã€‚ã€‚ç”Ÿæ´»å¤ªè‰°éš¾äº†
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-05-31</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
ä»ç„¶è®°å¾—é‚£æ˜¯ä¸­å­¦æ—¶ä¸€ä¸ªå¹³å‡¡çš„åˆç§‹é»„æ˜ï¼Œæˆ‘åœ¨ç”°å¾„åœºçš„è‰åªä¸Šæ¼«ä¸ç»å¿ƒåœ°åç€çœ‹å°è¯´ï¼Œåœåœ¨å±±å°–çš„è½æ—¥æ´’å‡ºæŸ”å’Œçš„å…‰èŠ’ï¼Œåˆ«è¯´å¿ƒäº‹ï¼Œå¿ƒå¤´ç«Ÿè¿ä¸€ä»¶é—²äº‹éƒ½æ²¡æœ‰ã€‚
æˆ‘æ€»ä»¥ä¸ºé‚£æ˜¯ä¸€ä¸ªå¹³å‡¡çš„æ—¥å­ã€‚ç„¶è€Œå¾€åå¤šå¹´ä¸€è·¯å¥”è·‘å†æ— åŠåˆ»åœæ­‡ï¼Œé‚£æ ·çš„æ—¥å­å†ä¹Ÿä¸ä¼šæœ‰äº†ã€‚
æˆ‘ä»¬æ— æ³•ä¼°é‡ã€Œç‰‡åˆ»ã€çš„ä»·å€¼ï¼Œé™¤éå®ƒæˆä¸ºå›å¿†ã€‚
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-05-21</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
oncall å€¼ç­çœŸçš„ä¼šè®©äººçŠ¯åŒè ¢ç—‡ï¼Œä½œä¸ºå·¥ç¨‹å¸ˆæ²¡æœ‰ä»»ä½•è§£å†³é—®é¢˜çš„èƒ½åŠ›ï¼Œæ–‡æ¡£ä¸ä¼šçœ‹ï¼Œgoogle/å†…ç½‘ä¸ä¼šæŸ¥ï¼Œæœ€åŸºæœ¬çš„é”™è¯¯æç¤ºçœ‹ä¸æ˜ç™½ï¼Œå‡ºç°ä»»ä½•é—®é¢˜åªä¼š æ‰¾äººé—®ç„¶åè¦æ±‚åˆ«äººè§£å†³ï¼Œè¦ä¸å°±æ˜¯æ— è„‘ç”©é”…è·Ÿä¸ªä½èƒ½ä¸€æ ·ï¼ŒæŸäº›äºº 35 è¢«è£éƒ½è£æ™šäº†ã€‚
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-05-08</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
ä¸æƒ³å‚åŠ é¥­å±€ã€‚ä»¥å‰è§‰å¾—æœ‰æœ‹å‹ä¸€èµ·çº¦é¥­æ˜¯å¾ˆå¿«ä¹çš„äº‹æƒ…ï¼Œä½†éšç€å¹´å²çš„å¢é•¿ï¼Œã€Œæœ‹å‹ã€æ„ˆå‘é€šè´§è†¨èƒ€ï¼Œä¼¼ä¹ä»€ä¹ˆæ ·çš„äººéƒ½èƒ½ç§°ä¹‹ä¸ºã€Œæœ‹å‹ã€ï¼Œ å‡ ä¹æ¯å‘¨éƒ½æœ‰é¥­å±€ï¼ŒçœŸçš„ä¸æƒ³å»ï¼Œåªæƒ³å‘¨æœ«å¥½å¥½ä¼‘æ¯ä¼‘æ¯ï¼Œç„¶è€Œåˆä¸å¥½æ„æ€æ‹’ç»ã€‚çœŸçš„å¾ˆçƒ¦ã€‚
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-04-30</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
u1s1ï¼Œè¿™ä¸ªé¡µé¢çœŸçš„å¥½ä¸‘ã€‚ã€‚ã€‚ä½†æ˜¯ä½œä¸ºä¸€åä¸šä½™å¾—ä¸èƒ½å†ä¸šä½™çš„å‰ç«¯ï¼Œæœ‰ä¸ªè¿™æ ·çš„é¡µé¢å°±ä¸é”™äº†ï¼Œæ‰¾ä¸å¥½æ›´å¥½çš„ hexo èƒ½ç”¨çš„è§£å†³æ–¹æ¡ˆ
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-04-10</span>
            </div>
        </div><div class="cd-timeline__block js-cd-block svelte-1t2uafz">
            <div class="cd-timeline__img cd-timeline__img--movie js-cd-img svelte-1t2uafz">
            </div>
            <div class="cd-timeline__content js-cd-content svelte-1t2uafz">
                <h2 class="svelte-1t2uafz"></h2>
                <font size=4>
æˆ‘å†™ä¸å‡ºç®—æ³•é¢˜ï¼Œä¹Ÿå†™ä¸å‡ºæ–¹æ¡ˆã€‚ã€‚ã€‚æˆ‘ä¹Ÿä¸çŸ¥é“è¯¥å’‹åŠäº†
</font>

                <span class="cd-timeline__date svelte-1t2uafz">2024-04-01</span>
            </div>
        </div>
    </div>
</section>]]></content>
  </entry>
  <entry>
    <title>Go defer+é—­åŒ…çš„ä¸€ä¸ªå°å‘</title>
    <url>/2024/06/07/go-defer-closure/</url>
    <content><![CDATA[<h1 id="Go-defer-é—­åŒ…çš„ä¸€ä¸ªå°å‘"><a href="#Go-defer-é—­åŒ…çš„ä¸€ä¸ªå°å‘" class="headerlink" title="Go defer+é—­åŒ…çš„ä¸€ä¸ªå°å‘"></a>Go defer+é—­åŒ…çš„ä¸€ä¸ªå°å‘</h1><p>ä»Šå¤©åœ¨å†™ä»£ç çš„æ—¶å€™ï¼Œå‘ç°ä¸€ä¸ªå¥‡æ€ªçš„äº‹æƒ…ï¼Œåœ¨å°†æ— æ•ˆçš„é€»è¾‘ç®€åŒ–ä¹‹åï¼Œå¯ä»¥æ€»ç»“å‡ºè¿™æ ·çš„ä¸€æ®µä»£ç ï¼š</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	a := <span class="string">&quot;1&quot;</span></span><br><span class="line">	<span class="keyword">defer</span> fmt.Println(<span class="string">&quot;defer only: &quot;</span> + a)</span><br><span class="line">	<span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123; fmt.Println(<span class="string">&quot;defer closure: &quot;</span> + a) &#125;()</span><br><span class="line"></span><br><span class="line">	a = <span class="string">&quot;2&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>
<p>å…ˆè®©æˆ‘ä»¬æƒ³ä¸€æƒ³ï¼Œè¿™æ®µä»£ç çš„è¾“å‡ºæ˜¯ä»€ä¹ˆï¼Ÿæˆ‘çš„ä¹‹å‰çš„ç†è§£ä¸­ï¼Œæ˜¾ç„¶ï¼Œè¿™æ˜¯é—® defer çš„æ‰§è¡Œé¡ºåºé—®é¢˜ï¼Œé‚£å¤ªç®€å•äº†ï¼Œæ¯«æ— ç–‘é—®åº”è¯¥è¾“å‡ºï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">defer closure: 1</span><br><span class="line">defer only: 1</span><br></pre></td></tr></table></figure></div>

<p>ç„¶è€Œï¼ŒçœŸçš„æ‰§è¡Œè¿™æ®µä»£ç ä¹‹åï¼Œæˆ‘æƒŠè®¶çš„å‘ç°ï¼ŒçœŸå®çš„è¾“å‡ºæ˜¯ï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">defer closure: 2</span><br><span class="line">defer only: 1</span><br></pre></td></tr></table></figure></div>
<p>è¿™å°±æœ‰äº›è®©æˆ‘è´¹è§£äº†ï¼Œæ­£å¥½å€Ÿç€è¿™ä¸ªæœºä¼šï¼Œæˆ‘å¯¹ defer&amp; é—­åŒ…åšäº†ä¸€æ¬¡ç³»ç»Ÿçš„æ•´ç†ã€‚</p>
<h2 id="defer"><a href="#defer" class="headerlink" title="defer"></a>defer</h2><h3 id="é¢„è®¡ç®—"><a href="#é¢„è®¡ç®—" class="headerlink" title="é¢„è®¡ç®—"></a>é¢„è®¡ç®—</h3><p>Go å®˜æ–¹æ–‡æ¡£å¯¹æ­¤ç”±å¦‚ä¸‹<a href="">é˜è¿°</a></p>
<p>to be finished</p>
]]></content>
      <categories>
        <category>tech</category>
      </categories>
  </entry>
  <entry>
    <title>Go Vendor-æ—¶ä»£çš„çœ¼æ³ª</title>
    <url>/2024/05/22/go-vendor/</url>
    <content><![CDATA[<h1 id="Go-Vendor"><a href="#Go-Vendor" class="headerlink" title="Go Vendor"></a>Go Vendor</h1><p>go vendor ä¹Ÿç®—æ—¶ä»£çš„çœ¼æ³ªäº†ï¼Œåœ¨ go1.5ï½1.11 ä¹‹é—´è¢«ç›¸å¯¹å¹¿æ³›çš„ä½¿ç”¨ï¼Œåœ¨ 1.11ä¹‹ååŸºæœ¬å°±é€€å‡ºå†å²èˆå°äº†ï¼ŒåŸå› æ— ä»–ï¼Œgo module å¤ªå¥½ç”¨äº†ã€‚ å³ä¾¿æ”¿æ²»æ­£ç¡®ä¸€ç‚¹åœ°è¯´ï¼Œå®ƒå’Œ cargoã€bazel ç›¸æ¯”åŠŸèƒ½ä¸Šæ²¡æœ‰é‚£ä¹ˆä¸°å¯Œï¼Œä½†å…¶è½»é‡ã€ç®€ä¾¿åœ¨åŒ…ç®¡ç†å·¥å…·ä¸­ä¹Ÿéš¾å¯»å…¶å³ã€‚</p>
<p>äº‹å®ä¸Šï¼Œåœ¨æˆ‘ 21 å¹´å¼€å§‹æ¥è§¦ Go æ—¶ï¼Œä¸»æµ Go ç‰ˆæœ¬å·²ç»æ¥åˆ° 1.16ï¼Œå› æ­¤æˆ‘ä»æœªæ¥è§¦è¿‡ vendor é¡¹ç›®ï¼Œ ç”šè‡³è¿ GOPATH ä¹Ÿä¸ç”¨å¤ªäº†è§£ã€‚ ä¸è¿‡ï¼Œæ—¢ç„¶æ˜¯æ—¶ä»£çš„çœ¼æ³ªï¼Œvendor å°±ä¸€å®šè¿˜ç•™ç€å…¶æ³ªç—•ã€‚</p>
<p>è·³æ§½ä¹‹åï¼Œæ–°å·¥ä½œçš„æ ¸å¿ƒä»“åº“ï¼Œæ˜¯ä¸€ä¸ª 14 å¹´å°±å¼€å§‹çš„å¤è€é¡¹ç›®ï¼Œç°åœ¨è¿˜ç•™ç€ä¸å°‘é’ˆå¯¹ go1.5 çš„æ¡ä»¶ç¼–è¯‘ä»£ç å’Œæ±‡ç¼–ã€‚æ­¤ä»“åº“ä¸»æ‰“ä¸€ä¸ªå†å²æ‚ ä¹…ï¼Œ å†ç»å¤æ³•åŒ…ç®¡ç†ï¼ˆç›´æ¥å¤åˆ¶ä»“åº“ï¼‰ã€bazelã€vendor ç­‰å¤šä¸ªæ¨¡å¼ï¼Œå¹¶ä¸”ç”±äºè¿™äº›æ¨¡å¼çš„æ··æ‚å¯¼è‡´è‡³ä»Šæœªèƒ½å‡çº§åˆ° go moduleï¼Œæ­¤å¤–ï¼Œ go ç‰ˆæœ¬ä¹Ÿåœç•™åœ¨ go1.12ï¼Œä¸»è¦ä¹Ÿæ²¡å•¥äººæ•¢å‡ï¼Œä¸€æ¥æ²¡äº§å‡ºï¼ŒäºŒæ¥å®¹æ˜“å‡ºé—®é¢˜ã€‚è™½è¯´ç¨‹åºå‘˜å’Œä»£ç æœ‰ä¸€ä¸ªèƒ½è·‘å°±è¡Œï¼Œä½†ç°åœ¨çš„å¤§ç¯å¢ƒï¼Œç¨‹åºå‘˜æ€•æ˜¯ä¸å¤ªå¥½è·‘ã€‚</p>
<p>å› æ­¤ï¼Œä¸ºäº†å¼€å‘è¿™ä¸ªä»“åº“ï¼Œæˆ‘å¯¹ go vendor è¿›è¡Œäº†ç›¸å¯¹æ·±å…¥çš„äº†è§£ï¼Œè®°å½•ä¸€ä¸‹ã€‚</p>
<h2 id="GOPATH"><a href="#GOPATH" class="headerlink" title="GOPATH"></a>GOPATH</h2><p>GOPATH æ˜¯ã€Œæ ‡è®° Go ä»£ç å·¥ä½œåŒºã€çš„ç¯å¢ƒå˜é‡ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒGOPATH ä¸‹åº”è¯¥æœ‰ä¸‰ä¸ªå­æ–‡ä»¶å¤¹ï¼šbinã€pkgã€srcï¼Œå¯¹åº”äº†ä¸»è¦çš„ä¸‰ä¸ªåŠŸèƒ½ï¼š</p>
<ul>
<li>æ ‡è®° go äºŒè¿›åˆ¶åœ°å€ã€‚é€šè¿‡ go install&#x2F;go get å®‰è£…çš„äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œä¼šæ”¾åœ¨ $GOPATH&#x2F;bin ä¸­ï¼Œæ­¤è§„èŒƒå§‹ç»ˆæ˜¯ç”Ÿæ•ˆçš„ã€‚</li>
<li>æ ‡è®°ä¾èµ–åŒ…åœ°å€ã€‚åœ¨å¯ç”¨ go module ä¹‹åï¼Œgo module ä¼šå°†ä¸‹è½½çš„ä¾èµ–åŒ…æ”¾åˆ° $GOPATH&#x2F;pkg ä¸­ï¼Œå¹¶ä¸”åŠ ä¸Šç‰ˆæœ¬ tag ä»¥åŠ sum ä¿¡æ¯ã€‚è‡ªç„¶ï¼Œæ­¤è§„èŒƒæ˜¯åœ¨å¯ç”¨ go module ä¹‹åæ‰æœ‰æ•ˆã€‚</li>
<li>æ ‡è®°æºç åœ°å€ã€‚è¿™ä¸ªä¸»è¦æ˜¯é’ˆå¯¹ vendor æ¨¡å¼ï¼Œåœ¨ä¸‹é¢ä¼šç»†è®²ï¼Œåœ¨ module æ¨¡å¼ä¸‹å·²ç»äº‹å®ä¸Šä¸å†éœ€è¦äº†å—ï¼Œä¹Ÿä¸å†æœ‰ç›®å½•è§„èŒƒï¼Œå½“å‰æºç æƒ³æ”¾å“ªå°±æ”¾å“ªï¼Œä¸è¿‡é€šå¸¸ä¼šåŸºäºå†å²ä¹ æƒ¯æ”¾åˆ° src ä¸‹ï¼Œä½†æ¯”å¦‚ Goland æ–°å»ºé¡¹ç›®åˆ™ä¼šé»˜è®¤æ”¾åˆ° GolandProject ä¸‹ã€‚</li>
</ul>
<p>ç®€å•æ€»ç»“ä¸‹ï¼šåœ¨ module æ¨¡å¼ä¸‹ï¼ŒGOPATH ä¸‹çš„ä¸¤ä¸ªä¸»è¦åŠŸèƒ½ï¼šbin&amp;pkg éƒ½æ˜¯ç”± go tools è‡ªåŠ¨ç®¡ç†çš„ï¼Œå¯¹äºç¨‹åºå‘˜è€Œè¨€å‡ ä¹ä¸å†éœ€è¦è¢«å…³æ³¨ã€‚</p>
<h2 id="Vendor"><a href="#Vendor" class="headerlink" title="Vendor"></a>Vendor</h2><p>Vendor æ¨¡å¼æ˜¯åœ¨ Go æ—©æœŸæ²¡æœ‰åŒ…ç®¡ç†çš„é‡è›®å‘å±•ä¸‹å½¢æˆçš„ä¸€ä¸ªç¤¾åŒºå®è·µï¼Œå¹¶åœ¨ 1.5 è¢«æ­£å¼çº³å…¥è¯­è¨€ç‰¹æ€§ï¼Œ1.13 ç»“æŸç”Ÿå‘½å‘¨æœŸã€‚ Vendor å…¶å®å¾ˆç®€å•ï¼Œå’Œ node_modules å·®ä¸å¤ªå¤šï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ã€Œçº¦å®šä¸€ä¸ªç›®å½•å­˜æ”¾ç¬¬ä¸‰æ–¹åŒ…ã€ï¼Œè¿™ä¸ªç›®å½•ä¾¿æ˜¯ vendorã€‚</p>
<p>è®©æˆ‘ä»¬ä»¥ä¸€ä¸ªä¾‹å­å¼€å§‹ã€‚å‡å¦‚ä½ åˆ›å»ºäº†ä¸€ä¸ªé¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®ç›®å‰ä¸ºæ­¢åªä½¿ç”¨äº†æ ‡å‡†åº“ï¼Œæˆ‘ä»¬çŸ¥é“æ ‡å‡†åº“åœ¨ GOROOT ä¸‹ä¿å­˜ï¼Œé‚£ä¹ˆï¼Œä½ ä»¬çš„ä»£ç åªéœ€è¦åœ¨ GOPATH&#x2F;src ä¸‹æŒ‚ç€å°±è¡Œäº†ï¼Œå½“ç„¶ï¼ŒåŸåˆ™ä¸Šæ¥è¯´ä½ æŒ‚å“ªéƒ½è¡Œï¼Œç”šè‡³æ ¹ç›®å½•ä¹Ÿæ— æ‰€è°“ï¼Œå¤§ä¸äº†ä¸´æ—¶æ”¹ä¸€ä¸‹ $GOPATHã€‚</p>
<p>ä¸è¿‡ï¼Œæˆ‘ä»¬éƒ½æ˜¯ä¹ æƒ¯è‰¯å¥½çš„å·¥ç¨‹å¸ˆï¼Œä¸ºäº†æ–¹ä¾¿ç®¡ç†æ‰‹ä¸Šçš„è¯¸å¤šé¡¹ç›®ï¼Œæˆ‘ä»¬å†³å®šå›ºå®š GOPATHï¼Œå¹¶ä¸”æŒ‰ç…§é¡¹ç›®åç§°è¿›è¡Œè‰¯å¥½çš„ç›®å½•å±‚çº§åˆ’åˆ†ï¼Œå°±åƒ JAVA é‚£æ ·ï¼ˆå…ˆè®©æˆ‘ä»¬è¿™ä¹ˆåšï¼Œåé¢æˆ‘ä»¬ä¼šæ˜ç™½è¿™ä¹ˆåšçš„å¥½å¤„çš„ï¼Œè‰¯å¥½çš„ä¹ æƒ¯æ€»æ˜¯ä¼šæœ‰å›æŠ¥çš„ï¼‰ï¼Œæˆ‘ä»¬å‡å®šè¿™ä¸ªé¡¹ç›®å« github.com&#x2F;hyphennn&#x2F;proj1ï¼Œäºæ˜¯ï¼Œä½ çš„ç›®å½•å¦‚ä¸‹ï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">$GOPATH</span><br><span class="line">    - bin</span><br><span class="line">    - src</span><br><span class="line">        - github.com</span><br><span class="line">            - hyphennn</span><br><span class="line">                - proj1 // ä¸‹é¢çš„å±‚çº§æ˜¯ä½ çš„æºä»£ç </span><br></pre></td></tr></table></figure></div>
<p>æ¥ä¸‹æ¥ï¼Œè®©æˆ‘ä»¬è¿­ä»£è¿™ä¸ªé¡¹ç›®ï¼Œä»¥åŠé¡¹ç›®ä¸­çš„åŒ…ç®¡ç†æœºåˆ¶</p>
<h3 id="ç‰ˆæœ¬ä¸€-GOPATH-æœºåˆ¶"><a href="#ç‰ˆæœ¬ä¸€-GOPATH-æœºåˆ¶" class="headerlink" title="ç‰ˆæœ¬ä¸€ GOPATH æœºåˆ¶"></a>ç‰ˆæœ¬ä¸€ GOPATH æœºåˆ¶</h3><p>ç°åœ¨ï¼Œæˆ‘ä»¬å†³å®šå¼•å…¥æŸä¸€ä¸ªåŠŸèƒ½ï¼Œè¿™ä¸ªåŠŸèƒ½æˆ‘ä»¬æ›¾ç»å†™è¿‡ï¼Œåªä¸è¿‡åœ¨ github.com&#x2F;hyphennn&#x2F;proj2 è¿™ä¸ªé¡¹ç›®ä¸­ï¼Œå‡å®šä»£ç åœ¨ github.com&#x2F;hyphennn&#x2F;proj2&#x2F;waibiwaibi&#x2F;waibibabo.go è¿™ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œè‡ªç„¶åœ°ï¼Œå¤åˆ¶è¿‡å»æ˜¯ä¸ªå¥½æƒ³æ³•ï¼Œä½†å‡å¦‚è¿™ä¸ªæ–‡ä»¶ä¾èµ–äº†é¡¹ç›®ä¸­çš„å…¶ä»–æ–‡ä»¶å‘¢ï¼Ÿéƒ½å¤åˆ¶è¿‡å»å—ï¼Ÿè¦æ˜¯å˜é‡åã€æ–¹æ³•åæœ‰å†²çªå’‹åŠï¼Ÿæ›´è¿›ä¸€æ­¥çš„ï¼Œä»¥å proj2 ç»§ç»­è¿­ä»£ï¼Œéš¾é“æ”¹ä¸€æ¬¡ä»£ç å°±å¤åˆ¶ä¸€æ¬¡å—ï¼Ÿè¿™æ˜¾ç„¶ä¸åˆç†ã€‚äº‹å®ä¸Šï¼ŒGo æä¾›äº†è§£å†³æ–¹æ¡ˆï¼Œä½ å¯ä»¥å¦‚ä¸‹ç»„ç»‡ä½ çš„ä»£ç ï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">$GOPATH</span><br><span class="line">    - bin</span><br><span class="line">    - src</span><br><span class="line">        - github.com</span><br><span class="line">            - hyphennn</span><br><span class="line">                - proj1 // ä¸‹é¢çš„å±‚çº§æ˜¯ä½ çš„æºä»£ç </span><br><span class="line">                - proj2</span><br></pre></td></tr></table></figure></div>
<p>è¿™æ ·ï¼Œä½ åªéœ€è¦ import ä¸€ä¸‹å°±å¥½äº†ï¼š</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">&quot;github.com/hyphennn/proj2/waibiwaibi&quot;</span></span><br></pre></td></tr></table></figure></div>
<p>è¿™ç§æ–¹å¼æ˜¯å¾ˆç›´è§‚çš„ï¼Œå› ä¸ºä½ å¼•ç”¨é¡¹ç›®å†…å…¶ä»–æ–‡ä»¶å¤¹æ—¶ä½ ä¹Ÿæ˜¯è¿™ä¹ˆåšçš„ï¼Œå½“é¡¹ç›®ä¸­è¢«å£°æ˜ import â€œxxxâ€ æ—¶ï¼Œç¼–è¯‘å™¨ä¼šå»å¯»æ‰¾ GOPATH&#x2F;src&#x2F;xxxï¼Œå¦‚æœæ‰¾åˆ°ï¼Œå°±ä¼šå°†å…¶ä½œä¸ºä¾èµ–åº“åŠ å…¥ç¼–è¯‘ã€‚å½“ç„¶ï¼Œä¼šä¼˜å…ˆåœ¨ $GOROOT ä¸‹æ‰¾æ ‡å‡†åº“ã€‚</p>
<p>é¡¹ç›®è·‘çš„å¾ˆä¸é”™ï¼Œç°åœ¨è¯¥æ·»åŠ æ–°çš„åŠŸèƒ½äº†ã€‚åŠŸèƒ½å¤ªå¤æ‚ï¼ŒäººåŠ›æˆæœ¬éå¸¸æœ‰é™ï¼Œä¸è¿‡å¥½æ¶ˆæ¯æ˜¯æˆ‘ä»¬æ‰¾åˆ°äº†ä¸¤ä¸ªæ¥è‡ªäº’è”ç½‘çš„åŒ…ï¼Œå¸®åŠ©æˆ‘ä»¬è§£å†³äº†é—®é¢˜ï¼Œä»–ä»¬åˆ†åˆ«æ˜¯ï¼šgithub.com&#x2F;helper1&#x2F;pkg1 å’Œ golang.org&#x2F;helper2&#x2F;pkg2ã€‚æ€ä¹ˆæŠŠè¿™ä¸¤ä¸ªåŒ…å¼•å…¥å‘¢ï¼Ÿä¸€ä¸ªå¾ˆç›´è§‚çš„æ€è·¯å°±æ˜¯ï¼šåƒä½¿ç”¨æˆ‘ä»¬è‡ªå·±çš„é¡¹ç›®ä¸€æ ·ä½¿ç”¨è¿™ä¸¤ä¸ªåŒ…ï¼Œå‚ç…§ä¸€ä¸‹ä¸Šé¢ import å¯»æ‰¾ç›®æ ‡çš„åŸç†ï¼Œæˆ‘ä»¬èƒ½å¾ˆè½»æ˜“çš„ç»™å‡ºå¦‚ä¸‹ç›®å½•ï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">$GOPATH</span><br><span class="line">    - bin</span><br><span class="line">    - src</span><br><span class="line">        - github.com</span><br><span class="line">            - hyphennn</span><br><span class="line">                - proj1 // ä¸‹é¢çš„å±‚çº§æ˜¯ä½ çš„æºä»£ç </span><br><span class="line">                - proj2</span><br><span class="line">            - helper1</span><br><span class="line">                - pkg1</span><br><span class="line">        - golang.org</span><br><span class="line">            - helper2</span><br><span class="line">                -pkg2</span><br></pre></td></tr></table></figure></div>
<p>åŒæ ·çš„ï¼Œimport è¯­å¥å¦‚ä¸‹ï¼š</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span>(</span><br><span class="line">    <span class="string">&quot;github.com/hyphennn/proj2/waibiwaibi&quot;</span></span><br><span class="line">    <span class="string">&quot;github.com/helper1/pkg1&quot;</span> <span class="comment">// è®©æˆ‘ä»¬çœç•¥æ‰åé¢çš„å­ç›®å½•ï¼Œæ¯•ç«Ÿéƒ½å·®ä¸å¤š</span></span><br><span class="line">    <span class="string">&quot;golang.org/helper2/pkg2&quot;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></div>
<p>å°è¯•ä¸€ä¸‹ï¼Œè¿è¡Œè‰¯å¥½ï¼Œä»¥åå°±è¿™ä¹ˆå¹²ï¼Œå¯ä»¥ä¸æ–­å¼•å…¥æ–°çš„åŒ…ã€‚</p>
<p>åˆ°æ­¤ä¸ºæ­¢ï¼Œæˆ‘ä»¬å®Œæˆäº†ç¬¬ä¸€ç‰ˆçš„åŒ…ç®¡ç†æœºåˆ¶ï¼Œä¸¥æ ¼æ¥è¯´å¹¶ä¸å«åŒ…ç®¡ç†ï¼Œå› ä¸ºå®ƒå®Œå…¨ä¾èµ– GOPATHï¼Œä¸è¿‡è¿™ä¸é‡è¦ï¼Œæˆ‘ä»¬çš„é¡¹ç›®å¾ˆæ£’ï¼Œèµšå¤§é’±äº†(bushi</p>
<h3 id="ç‰ˆæœ¬äºŒ-Vendor-æœºåˆ¶"><a href="#ç‰ˆæœ¬äºŒ-Vendor-æœºåˆ¶" class="headerlink" title="ç‰ˆæœ¬äºŒ Vendor æœºåˆ¶"></a>ç‰ˆæœ¬äºŒ Vendor æœºåˆ¶</h3><p>å¦‚æœä½ äº†è§£è¿‡åŒ…ç®¡ç†å·¥å…·ï¼Œä»¥åŠæ„å»ºå·¥ç¨‹ï¼Œæ˜¾ç„¶ï¼ŒGOPATH ä¸æ˜¯ä¸ªå¥½çš„æ–¹æ¡ˆï¼Œå®ƒè‡³å°‘æœ‰å¦‚ä¸‹ç¼ºç‚¹ï¼š</p>
<ul>
<li>è‡ªå·±ç¼–å†™çš„åŒ…ï¼Œå’Œç½‘ç»œä¸Šçš„ç¬¬ä¸‰æ–¹åŒ…ï¼Œéƒ½æ”¾ç½®åœ¨GOPATH&#x2F;srcä¸‹ï¼Œå®¹æ˜“é€ æˆæ··ä¹±ï¼Œä¸æ–¹ä¾¿ç®¡ç†ã€‚</li>
<li>é¡¹ç›®ä¸­ç”¨åˆ°çš„ä¾èµ–åŒ…ï¼Œéƒ½éœ€è¦æ‰‹åŠ¨go getä¸‹è½½ï¼Œå¤§é¡¹ç›®æ¥è¯´éå¸¸éº»çƒ¦</li>
<li>å¦‚æœå¼•å…¥çš„ä¸‰æ–¹åŒ…ä¸­åˆå¼•å…¥äº†å…¶ä»–ä¸‰æ–¹åŒ…ï¼Œå°±ä¸å¥½å¤„ç†äº†ï¼Œéœ€è¦æ‰¾åˆ°ä»¥åï¼Œä½¿ç”¨go getå»ä¸‹è½½ã€‚</li>
<li>go getæ²¡æœ‰ç‰ˆæœ¬çš„æ¦‚å¿µï¼Œå›¢é˜Ÿåˆä½œä¸­ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä½¿ç”¨äº†ä¸åŒç‰ˆæœ¬çš„åŒ…ï¼Œé€ æˆä¸å¿…è¦çš„é”™è¯¯ã€‚</li>
<li>åä½œå¼€å‘æ—¶ï¼Œéœ€è¦ç»Ÿä¸€å„ä¸ªå¼€å‘æˆå‘˜æœ¬åœ°$GOPATH&#x2F;srcä¸‹çš„ä¾èµ–åŒ…ã€‚</li>
<li>å¼•ç”¨çš„åŒ…å¼•ç”¨äº†å·²ç»è½¬ç§»çš„åŒ…ï¼Œè€Œä½œè€…æ²¡æ”¹çš„è¯ï¼Œéœ€è¦è‡ªå·±ä¿®æ”¹å¼•ç”¨ã€‚</li>
</ul>
<p>è®©æˆ‘ä»¬æƒ³æƒ³åˆ«çš„å·¥å…·æ€ä¹ˆè§£å†³çš„ã€‚Go ä½œä¸ºä¸–ç•Œä¸Šç¬¬äºŒå¥½çš„è¯­è¨€ï¼Œä¸å¦¨å­¦ä¹ ä¸‹ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€-PHPã€‚PHP ä½¿ç”¨ Composer ä½œä¸ºåŒ…ç®¡ç†å™¨ï¼Œå°†ç¬¬ä¸‰æ–¹åŒ…æ”¾åˆ°æ ¹ç›®å½•ä¸‹çš„ä¸€ä¸ªåä¸º vendor çš„ç›®å½•ä¸‹ã€‚å¥½ä¸»æ„ï¼Œè®©æˆ‘ä»¬èä¼šè´¯é€šä¸‹ï¼Œåˆ¶è®¢ Go çš„ vendor æœºåˆ¶ã€‚</p>
<blockquote>
<p>å½“ç„¶ï¼Œéœ€è¦æŒ‡å‡ºçš„æ˜¯ï¼Œæˆ‘æ ¹æœ¬ä¸æ¸…æ¥š Go Vendor çš„èµ·æºï¼Œä»¥ä¸Šåªæ˜¯ä¸ºäº†å‘Šè¯‰å¤§å®¶ä¸–ç•Œä¸Šæœ€å¥½çš„è¯­è¨€æ˜¯ PHPã€‚</p>
</blockquote>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬æŠŠè¦æ±‚å›¢é˜ŸæŠŠæ‰€æœ‰çš„ä¾èµ–åŒ…éƒ½æ”¾åˆ°ä¸€ä¸ªå«åš vendor çš„ç›®å½•ï¼Œè¿™ä¸€æ­¥æœ‰ç‚¹åƒ js è‘—åï¼ˆ<del>è‡­åæ˜­è‘—</del>ï¼‰çš„ node_modulesã€‚ä¸è¿‡ï¼Œç”±äºä¸åŒåŸŸåã€ä»“åº“ç»„ä¸‹çš„ä»“åº“æ˜¯å¯ä»¥åŒåçš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬ä»ç„¶è¦æ±‚åœ¨ vendor ä¸‹æŒ‰ç…§å±‚çº§æ”¾ç½®ä¾èµ–åŒ…ï¼ˆå°±åƒ GOPATH é‡Œé¢çš„é‚£æ ·ï¼‰ã€‚ç”±æ­¤ï¼Œæˆ‘ä»¬è§£å†³äº†ã€Œæ— æ³•åŒºåˆ†è‡ªæœ‰ä»“åº“å’Œç¬¬ä¸‰æ–¹ä¾èµ–ã€çš„é—®é¢˜ï¼Œåœ¨ vendor ä¸‹çš„æ˜¯ç¬¬ä¸‰æ–¹ä¾èµ–ï¼ŒGOPATH ä¸‹çš„æ˜¯è‡ªæœ‰ã€‚</p>
<p>å…¶æ¬¡ï¼Œæˆ‘ä»¬è¦æ±‚ä»£ç ä»“åº“ä¸Šä¼ çš„æ—¶å€™æŠŠ vendor å¸¦ä¸Šï¼Œè™½ç„¶è¿™ä¼šä¸€å®šç¨‹åº¦ä½¿å¾—ä»£ç ä»“åº“ä½“ç§¯æ›´å¤§ï¼Œä½†è¿™æ— éå¢åŠ ç‚¹ç¢³æ’æ”¾å’Œä»£ç ä»“åº“ç»„åŒäº‹çš„å·¥ä½œé‡ç½¢äº†ï¼Œå´èƒ½å¾ˆå¥½çš„è§£å†³ã€Œæ‰‹åŠ¨ä¸‹è½½ä¾èµ–åŒ…ã€å¸¦æ¥çš„è¯¸å¤šé—®é¢˜ï¼Œè¿™å¯¹æˆ‘ä»¬å½“ç„¶æ˜¯å¯æ¥å—çš„ï¼ˆä»£ç ä»“åº“ç»„åŒäº‹ï¼šä½ ç¤¼è²Œå—ã€‚</p>
<p>æœ€åï¼Œæˆ‘ä»¬å…è®¸ä¸€ä¸ªé¡¹ç›®ä¸­å­˜åœ¨å¤šä¸ª vendor ç›®å½•ï¼Œä»–ä»¬ä½äºä¸åŒçš„ç›®å½•ä¸‹ï¼Œå½±å“ç€ä¸åŒç›®å½•çš„ä¾èµ–ï¼Œæ­¤è§„åˆ™çš„ä¼˜åŠ¿æˆ–è®¸éš¾ä»¥ç›´è§‚åœ°çœ‹å‡ºï¼Œä½†ä½¿ç”¨è¿‡ç¨‹ä¸­æˆ‘ä»¬ä¼šå‘ç°å®ƒçš„å¥½å¤„çš„ã€‚è¿™å¯èƒ½æœ‰ç‚¹ç»•ï¼Œæˆ‘ä»¬ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬çš„é¡¹ç›® repo ä¾èµ– pkg1, pkg2 å’Œ pkg3ï¼Œä»–ä»¬çš„ç›®å½•åˆ†åˆ«å¦‚ä¸‹ï¼šrepo&#x2F;module1&#x2F;vendor&#x2F;pkg1ï¼Œrepo&#x2F;module2&#x2F;vendor&#x2F;pkg2ï¼Œrepo&#x2F;vendor&#x2F;pkg3ã€‚é‚£ä¹ˆï¼Œä½ åœ¨ repo&#x2F;module1&#x2F; ä¸‹å¯ä»¥ import pkg1, pkg3ï¼Œåœ¨ repo&#x2F;module2&#x2F; ä¸‹å¯ä»¥ import pkg2, pkg3ï¼Œåœ¨ repo&#x2F; å’Œ repo&#x2F;module3 ä¸‹åˆ™åªèƒ½ import pkg3ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿˜å…è®¸åœ¨ GOPATH&#x2F;src ä¸‹çš„æ¯ä¸€çº§ç›®å½•ï¼ˆåŒ…æ‹¬ srcï¼‰éƒ½æœ‰ vendorï¼Œæœ€ç»ˆå¯»æ‰¾ä¾èµ–çš„è§„åˆ™åœ¨ä¸‹æ–‡ä¸­åˆ—å‡ºã€‚</p>
<p>ä»¥ä¸Šï¼Œæˆ‘ä»¬è§£å†³äº†ä¸€éƒ¨åˆ†é—®é¢˜ï¼Œè‡³äºå‰©ä¸‹çš„é—®é¢˜ï¼Œè®©æˆ‘ä»¬ç›¸ä¿¡åäººçš„æ™ºæ…§å§ï¼Œå¤§å®¶éƒ½å–œæ¬¢è¿™ä¹ˆåšï¼Œæˆ‘ä»¬è‡ªç„¶ä¹Ÿå¯ä»¥ï½</p>
<p>æœ€ç»ˆï¼Œæˆ‘ä»¬å½¢æˆäº†å¦‚ä¸‹çš„ä¸€ç»„è§„åˆ™ï¼Œè¿™ä¾¿æ˜¯ Vendor æœºåˆ¶ï¼š</p>
<ul>
<li>å°†ä¾èµ–åŒ…ç»Ÿä¸€æ”¾åˆ°ä¸€ä¸ªå« vendor çš„ç›®å½•ä¸‹ï¼Œå¹¶éµå¾ªï¼š<ul>
<li>å¯ä»¥æœ‰å¤šä¸ªä¸åŒç›®å½•ä¸‹çš„ vendorï¼Œå…¶ä½œç”¨åŸŸæ»¡è¶³ä¸‹é¢çš„æŸ¥æ‰¾è§„åˆ™</li>
<li>ä¸Šä¼ é¡¹ç›®çš„æ—¶å€™åº”è¯¥å°† vendor ä¸€å¹¶ä¼ åˆ°ä»£ç ä»“åº“ä¸­</li>
<li>å•ä¸ª vendor ç›®å½•ä¸‹çš„åŒ…æ”¾ç½®ç›®å½•è§„åˆ™å’Œ GOPATH ä¸€è‡´ï¼Œå°±åƒ vendor ç›®å½•æ˜¯ $GOPATH&#x2F;src ä¸€æ ·</li>
<li>vendor ç›®å½•ä»…ä½œä¸ºä¾èµ–åŒ…ä½¿ç”¨</li>
</ul>
</li>
<li>æŸ¥æ‰¾è§„åˆ™<ul>
<li>åœ¨é‡åˆ° import è¯­å¥æ—¶ï¼ˆéæ ‡å‡†åº“ï¼‰ï¼Œé¦–å…ˆæŸ¥æ‰¾å½“å‰åŒ…ä¸‹çš„ vendor ç›®å½•</li>
<li>å‘ä¸Šçº§ç›®å½•æŸ¥æ‰¾ï¼Œç›´åˆ°æ‰¾åˆ° src ä¸‹çš„ vendor ç›®å½•</li>
<li>åœ¨ GOROOT ç›®å½•ä¸‹æŸ¥æ‰¾</li>
<li>åœ¨ GOPATH ä¸‹é¢æŸ¥æ‰¾ä¾èµ–åŒ…</li>
</ul>
</li>
</ul>
<p>åŸºäºä¸Šè¿°è§„åˆ™ï¼Œæˆ‘ä»¬è°ƒæ•´é¡¹ç›®å¦‚ä¸‹ï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">$GOPATH</span><br><span class="line">    - bin</span><br><span class="line">    - vendor</span><br><span class="line">        github.com</span><br><span class="line">            - helper8</span><br><span class="line">                - pkg10</span><br><span class="line">                - pkg11</span><br><span class="line">    - src</span><br><span class="line">        - github.com</span><br><span class="line">            - hyphennn</span><br><span class="line">                - proj1 // ä¸‹é¢çš„å±‚çº§æ˜¯ä½ çš„æºä»£ç </span><br><span class="line">                    - å…¶ä»–ä»£ç </span><br><span class="line">                    - vendor</span><br><span class="line">                        - github.com</span><br><span class="line">                            - helper1</span><br><span class="line">                                - pkg1</span><br><span class="line">                                - pkg2</span><br><span class="line">                            - helper2</span><br><span class="line">                                - pkg3</span><br><span class="line">                                - pkg4</span><br><span class="line">                        - golang.org</span><br><span class="line">                            - helper3</span><br><span class="line">                                - pkg4</span><br><span class="line">                            - helper4</span><br><span class="line">                                - pkg5</span><br><span class="line">                                - pkg6</span><br><span class="line">                - proj2</span><br><span class="line">                    - vendor</span><br><span class="line">                        - github.com</span><br><span class="line">                            - helper2</span><br><span class="line">                                - pkg3</span><br><span class="line">                                - pkg4</span><br><span class="line">                        - golang.org</span><br><span class="line">                            - helper3</span><br><span class="line">                                - pkg4</span><br><span class="line">            - vendor</span><br><span class="line">                - github.com</span><br><span class="line">                    - helper5</span><br><span class="line">                        - pkg6</span><br><span class="line">                        - pkg7</span><br><span class="line">        - golang.org</span><br><span class="line">            - helper2</span><br><span class="line">                -pkg2</span><br></pre></td></tr></table></figure></div>

<p>å…¶ä¸­çš„é€»è¾‘çœ‹èµ·æ¥å¯èƒ½æœ‰äº›ç»•ï¼Œè¿™é‡Œåœ°æ–¹å¤ªå°ï¼Œå†™ä¸ä¸‹ï¼ˆç»å¯¹ä¸æ˜¯æ‡’</p>
<p>æŒ‰ç…§ä¸Šé¢è¯´çš„è§„åˆ™ï¼Œå»ç†è§£ä¸€ä¸‹ï¼Œæ•´ä½“è¿˜æ˜¯éå¸¸æ¸…æ™°çš„ã€‚</p>
<h3 id="ç‰ˆæœ¬ä¸‰-Module-æœºåˆ¶"><a href="#ç‰ˆæœ¬ä¸‰-Module-æœºåˆ¶" class="headerlink" title="ç‰ˆæœ¬ä¸‰ Module æœºåˆ¶"></a>ç‰ˆæœ¬ä¸‰ Module æœºåˆ¶</h3><p>Vendor å½“ç„¶æœ‰å„ç§ç¼ºç‚¹ï¼Œäºæ˜¯ Module æœºåˆ¶å‡ºç°äº†ï¼Œå¹¶ä¸”è‰¯å¥½åœ°è¿è¡Œè‡³ä»Šã€‚ä»‹ç» Module çš„æ–‡ç« å¤ªå¤šäº†ï¼Œè¿™é‡Œå°±ä¸ç­é—¨å¼„æ–§äº†ï½</p>
<h2 id="govendor"><a href="#govendor" class="headerlink" title="govendor"></a>govendor</h2><p><a class="link"   href="https://github.com/kardianos/govendor" >govendor<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> æ˜¯ä¸€ä¸ªåº”ç”¨æ¯”è¾ƒå¹¿æ³›çš„é¡¹ç›®ï¼Œä¸»è¦ç›®æ ‡æ˜¯è§£å†³ã€Œvendor ç›®å½•è¿‡äºå ç”¨ç©ºé—´ã€å’Œã€Œvendor ç›®å½•éš¾ä»¥ç®¡ç†ä¾èµ–åŒ…ç‰ˆæœ¬ã€çš„é—®é¢˜ï¼Œä¸€å®šç¨‹åº¦ä¸Šæˆä¸ºäº† Go åŒ…ç®¡ç†çš„äº‹å®æ ‡å‡†ã€‚å¦‚ä»Šæ­¤é¡¹ç›®å·²ç»ä¸å†ç»´æŠ¤äº†ï¼Œä¹Ÿä¸æ¥æ”¶ä»»ä½•æ–°çš„ PRï¼Œä½†ä»ç„¶ä¸å¦¨ç¢æˆ‘ä»¬äº†è§£ä¸€ä¸‹ã€‚</p>
<p>govendor çš„æ€è·¯æœ‰äº›åƒ npmï¼Œæ ¸å¿ƒæ˜¯ï¼šä¸å†ç›´æ¥ç®¡ç†ä¾èµ–åŒ…æ–‡ä»¶ï¼Œè€Œæ˜¯ä½¿ç”¨ vendor.json çš„æ–‡ä»¶æ¥è®°å½•ä¾èµ–åŒ…çš„å…ƒä¿¡æ¯ï¼Œæ˜¯çš„ï¼Œè¿™ä¸ªæ€è·¯å’Œ package.json ç”šè‡³ go.mod éƒ½æ˜¯éå¸¸ç›¸ä¼¼çš„ã€‚ä½¿ç”¨ govendor åï¼ŒåŸæ¥å­˜æ”¾è¯¸å¤šä¾èµ–åŒ…çš„ vendor ç›®å½•ä¸‹åªéœ€è¦æ”¾ç½®ä¸€ä¸ª vendor.json æ–‡ä»¶ï¼Œç”± govendor æä¾›çš„å‘½ä»¤è¡Œå·¥å…·ç»´æŠ¤æ­¤æ–‡ä»¶ä»¥åŠåŸºäºæ­¤æ–‡ä»¶ä¸‹è½½ä¾èµ–åŒ…ã€‚ä¸‹é¢ç»™å‡ºä¸€ä¸ªå…ƒä¿¡æ¯çš„å®ä¾‹ï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;checksumSHA1&quot;: &quot;GcaTbmmzSGqTb2X6qnNtmDyew1Q=&quot;,</span><br><span class="line">  &quot;path&quot;: &quot;github.com/pkg/errors&quot;,</span><br><span class="line">  &quot;revision&quot;: &quot;a2d6902c6d2a2f194eb3fb474981ab7867c81505&quot;,</span><br><span class="line">  &quot;revisionTime&quot;: &quot;2016-06-27T22:23:52Z&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>

<p>ä»æ­¤å®ä¾‹ä¸­å°±å¯ä»¥å¤§ä½“æ˜ç™½ govendor çš„å·¥ä½œåŸç†äº†ï¼Œå¹¶ä¸ç®—éå¸¸å¤æ‚ï¼Œæˆ‘æƒ³å¤§çº¦ä¹Ÿæ˜¯å› æ­¤ govendor æ‰å¹¿å—æ¬¢è¿ã€‚</p>
<p>ä½¿ç”¨ govendor åï¼Œæˆ‘ä»¬é¡¹ç›®çš„ç›®å½•ä¾¿å¯ä»¥ç®€åŒ–å¦‚ä¸‹ï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">$GOPATH</span><br><span class="line">    - bin</span><br><span class="line">    - vendor</span><br><span class="line">        github.com</span><br><span class="line">            - vendor.json</span><br><span class="line">    - src</span><br><span class="line">        - github.com</span><br><span class="line">            - hyphennn</span><br><span class="line">                - proj1 // ä¸‹é¢çš„å±‚çº§æ˜¯ä½ çš„æºä»£ç </span><br><span class="line">                    - å…¶ä»–ä»£ç </span><br><span class="line">                    - vendor</span><br><span class="line">                        - vendor.json</span><br><span class="line">                - proj2</span><br><span class="line">                    - vendor</span><br><span class="line">                        - vendor.json</span><br><span class="line">            - vendor</span><br><span class="line">                - vendor.json</span><br><span class="line">        - golang.org</span><br><span class="line">            - helper2</span><br><span class="line">                -pkg2</span><br></pre></td></tr></table></figure></div>

<p>govendor æä¾›å¦‚ä¸‹çš„å‘½ä»¤å‚æ•°ï¼Œå«ä¹‰å‚ç…§ä¸€ä¸‹è§£é‡Šå°±èƒ½å¤§è‡´ç†æ¸…æ¥šï¼š</p>
<div class="code-container" data-rel="Text"><figure class="iseeu highlight text"><table><tr><td class="code"><pre><span class="line">&lt;sub-command&gt;</span><br><span class="line">	init     Create the &quot;vendor&quot; folder and the &quot;vendor.json&quot; file.</span><br><span class="line">	list     List and filter existing dependencies and packages.</span><br><span class="line">	add      Add packages from $GOPATH.</span><br><span class="line">	update   Update packages from $GOPATH.</span><br><span class="line">	remove   Remove packages from the vendor folder.</span><br><span class="line">	status   Lists any packages missing, out-of-date, or modified locally.</span><br><span class="line">	fetch    Add new or update vendor folder packages from remote repository.</span><br><span class="line">	sync     Pull packages into vendor folder from remote repository with revisions</span><br><span class="line">  	             from vendor.json file.</span><br><span class="line">	migrate  Move packages from a legacy tool to the vendor folder with metadata.</span><br><span class="line">	get      Like &quot;go get&quot; but copies dependencies into a &quot;vendor&quot; folder.</span><br><span class="line">	license  List discovered licenses for the given status or import paths.</span><br><span class="line">	shell    Run a &quot;shell&quot; to make multiple sub-commands more efficient for large</span><br><span class="line">	             projects.</span><br><span class="line"></span><br><span class="line">	go tool commands that are wrapped:</span><br><span class="line">	  `+&lt;status&gt;` package selection may be used with them</span><br><span class="line">	fmt, build, install, clean, test, vet, generate, tool</span><br><span class="line">	</span><br><span class="line">&lt;status&gt;</span><br><span class="line">	+local    (l) packages in your project</span><br><span class="line">	+external (e) referenced packages in GOPATH but not in current project</span><br><span class="line">	+vendor   (v) packages in the vendor folder</span><br><span class="line">	+std      (s) packages in the standard library</span><br><span class="line"></span><br><span class="line">	+excluded (x) external packages explicitly excluded from vendoring</span><br><span class="line">	+unused   (u) packages in the vendor folder, but unused</span><br><span class="line">	+missing  (m) referenced packages but not found</span><br><span class="line"></span><br><span class="line">	+program  (p) package is a main package</span><br><span class="line"></span><br><span class="line">	+outside  +external +missing</span><br><span class="line">	+all      +all packages</span><br></pre></td></tr></table></figure></div>

<p>ä¸è¿‡ï¼Œgovendor ç”±äºå·²ç»ä¸å†ç»´æŠ¤äº†ï¼Œå› æ­¤å…¶åœ¨ M ç³»åˆ—èŠ¯ç‰‡çš„ Mac ä¸Šä¸å¯ç”¨ï¼Œè€Œä¸”ä¹Ÿä¸æ¸…æ¥šé«˜ç‰ˆæœ¬ Go çš„å…¼å®¹æ€§ã€‚</p>
<p>ç”±äºå·¥ä½œé¡¹ç›®éœ€è¦ä½¿ç”¨ govendorï¼Œå› æ­¤æˆ‘å¤åˆ¶äº†ä¸€ä»½ä»£ç ï¼Œå¤„ç†äº†éƒ¨åˆ†å…¼å®¹æ€§é—®é¢˜ï¼Œç›®å‰åœ¨æˆ‘æœ¬åœ°ï¼ˆMac M2ï¼‰çœ‹èµ·æ¥æ²¡å•¥é—®é¢˜ã€‚åœ°å€ï¼š<a class="link"   href="https://github.com/hyphennn/govendor" >https://github.com/hyphennn/govendor<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a> ã€‚ä½†ä¸æ¸…æ¥šæœ‰æ²¡æœ‰æœªçŸ¥é—®é¢˜ã€‚<br>ps. ä¹‹æ‰€ä»¥ä¸ forkï¼Œæ˜¯å› ä¸ºåŸé¡¹ç›®ä¸å†ç»´æŠ¤äº†ï¼Œfork æ²¡æœ‰ä»»ä½•æ„ä¹‰ã€‚</p>
]]></content>
      <categories>
        <category>tech</category>
      </categories>
  </entry>
  <entry>
    <title>hello-world</title>
    <url>/2024/01/25/hello-world/</url>
    <content><![CDATA[<h1 id="Hyphen"><a href="#Hyphen" class="headerlink" title="Hyphen"></a>Hyphen</h1><p>This is a Hello World page</p>
<div class="code-container" data-rel="Go"><figure class="iseeu highlight go"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">	<span class="string">&quot;fmt&quot;</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;Hello Wolrd!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></div>]]></content>
      <categories>
        <category>tech</category>
      </categories>
  </entry>
  <entry>
    <title>Only For Hyphen</title>
    <url>/2018/06/08/i-am-not-hyphen/</url>
    <content><![CDATA[
<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">
  <script id="hbeData" type="hbeData" data-hmacdigest="ca337aa122ec6e3285ccc6d6eff9c93aa708a3097010110a32325b5176ac5709">07cd4cdb5d86168d61f9308838857682f80c7bcf9206a39137bd9439ac821291291cbe71163a5bd05e3a06bd83598241ddeca8fa7000ce90b31ca670b38f5656dbc5352157ce8217579cd14ddc07666864a62c39147840d86d773263fee7dc49911e009e138b7f0d5ca432f704452fd0222d455679d17587821d86f6094b1c64817a50a9e437e8704ffc56f36911dd6df61d676bf553f16ed7612ca51c9599c4d42e1153ef1c18c8468e4d5ec247ebf60e8d6dfb7dd2dea9ae40b4fc48e93f53282771f71c159ef35ee1b8b43e3732e5f176733ff25ef4163a30b550031781ec92597badfc71a209895fccd67fe0c4dbb33322dce573b5060b84582864bb4e9e81eb6f143aa70746d7594146ff2e93deaccc3c3c5eb0ca17f2fe333ed6f1e7d8031a3cecd09932acf59ec64dbed27b44879c8b86608578563074366bb597a6b85114a21863d55219958a3e638f5590d00b10ac0cbf3e0abf99a03830810f2d69f248fd0f4d3507f2af93ed3b09bd65943159ae9f13c6fe20d5ab7b75d6572754421f2244930db473c945a41bf55bd004250a4003121f754fc8129d5fd87a5229622923499190075f2cd89ef67f62d8bdd5fac8a682e35470925a740bc086a9ed3f2b43941762a062a5b1e9a6b971845172dac73a597170bfae9439b3738387a2b529671c00348be19584e129b9825878a85553a37eefd5a2f392035f5080f42055f897cecdf68a3ed6a93c2dd4f1cb68f01b4a6fcc79fae3930624baa0cd691d222024a4c27a703f1e211b94bec143b92a714fae1db191201ae7fae10e2f372c281f9d70c418f17015da50905439061e3bcbdd52266e1c63effa1bdf138b250d5d0ad8df71761889cd4778da1984d20368dbb12647ba0d4f88a3ec75cd5b34dd704509b774dc17a4de2974992a9d6725d877a3eef599f6563fbfe0ee0bca3d7d1d5d4c50b35e885d38693fbc4a53d01342f445f99dce9f5aa49db462da532536c240150f007470e0efbaba9b3dfab58796756364da0ae592ff91c18b406aa2e81aa385b5121cadc01d77b1b5bb6b2facf3ffc75e4b9c447e7d213c35567e46283a9bb3aeff04f5f43177eb8662d1dddb93b87ee17a504005b0b169fee2142f6a424c89842ef246ac9801ca52782f74e1bde4e0020db709df956573d3027b5003f601ebed3f55a8122f9e5e9e36f63bba512fe7ca8b454eadf56c53400b4999e75dbcc908cd0ecee4a5617957cc8ae3c05b0f430dca4626cfb667c637392aa139039f3e4a9a586315ba0633e72aee614714a0b6ea8400a5c822536066d63af7f5d25116b941019b2b330b9e79423e93aa720513af0d61afafe05eb65b65972ce3dcead8bd3ee4325d4bbf0cb556fc1da41ba04310ff418cfa3caeb3672b966c120316d5be949d3443927dbba7c08ebf6c40e97a2a315a9a46091f6c244b5f662bf162213c8d3d8d7922345c0bdfea39c6a5bcdbfed660f7fcc66a1d915e80e1f5961d96012647bdb287d50f2dc01c4de583681b0da0fd60e654ff344f22918cb52b1942fa82de1fe8f713a67f5072490eeaba69c90e87222bcfd1733648b0792846bc83527870df6f87ed568b25a0645239a7add512fa711489321ed32be34148ec2e033c7efaffab92f63c954281e4b6ff0604f83d6487024149181a01880617e3da61c6e696a3a1be18e20a9d8549dac1da61a96163904d008382703026200067a2d8f07493a44bd89d6b4fa70014c006b4b2a7d97fd00ac06f5756bf17f4e4b3e9495212eba3477476873fd782f792ee57969aa904aefda06297c76fbb46d297d78291209d5b5aa814510cf5bc81b09993037cd89f3703a323d03efbeb2528b46a9df2128a5ff28d580c3f8e5bb7217c595de9b84e7ddce3b30e6b850d5874111d81b796c3a853788e4b44553a0893cc1ecaf55c123f518607b3d052682360665d739c751f0f4faadf5e8636d2712c4b0da4c7ed53a64272addf9443aa798473f8c0e419f08261bc2a445f8043b6aba827b3e59b8bc8a256a9d615f3d52aec170d316a38cac678ef5b149093b6cfa0df84dd4d64fcc5f370749cb8191e0ae53bf3b29a6e89f24118ae65b9b3ecfdb74355d2819e0c70eecec28684ddea54e657ac14df403df4ba70a9e172e182a4f9dcc21deb81a603763e56a79816e71e32da730c8ed4fd03b5eeb969a62737a1018b5c2b0c536d7e3fcc165d526dce61f7b5cff24605a7836e630091be710369545320baa98770cdbb07e89786049810bcd3ea90fe6c2f73a92bbce78745b1d882149f3817eada6e2163329ccab196ef0c0ccec09595c0298065b5f87170bce8cafb38660f8607905b5eb94378b5eb132855708e4bdc0ba0b627a117e4888c91017770ff5ff3d4953f412ba4f96d26057f428f9352dd100b7904166ddcc7890545ed836c420184915960dcd9eea9ea9f8bbed2ef1cd0fe301547fd56ee9ed7abfd4c1e4f0d2a439cef9902b4f0ee71e2563c09a70c4fb2c438eeda9b25e68a1d7f8135d0f7a7f8744360e0bb71fa3e7b939d6489166fa7d0ddb94d28110441b6e6c201bcccc87b1b4789cb9efd1b9539a544eedb49b0e9e91c3085bbdf3a4a1487d6a3fb6e8b462d543d45613b1c4a4a1f3734a348d29923724d4c5afdd5d5cf6dc86822137cf642d09329f7999df7d123ab9271bca88a08c1360890eaf85f06d5f67a48daf89ff3bc9438fffe1007cbf6fb06c6b5c72c182fe675cc294de4c3cff5dd567b87ec8449c3be175967580303987d54af083b3a1d783c5e48026742360697a935762dc85bb666f8d9f23b2c62c422caa0fa49e8c84733fd3bf7118d1a1efab96e4afd9652b130b63c4defc0dbba2ecafc20e346b43a4ee4f5918fb796e907c4faec150a0615916f6a300f06d27ad46ba282a8d4ba159a0ea0c8caa75a69bb53b282f703c381c6eea675512d1959ea5d08d96c604aaa2f3383a42368f6d0cef6ec6f536718ccee66dd2532c5da41428bae7a55989b8560034de24903386cd58374b5904c7d7f092a5e307bafb86ee7fef549b215bab0c99f053c3da9b40d3739a1acb5170f11de18acbe1343944f2614c169d4f7261d3f61a01a06b73ca57847ad638c49f3588ab24fba0f76ea61c09d0c707cb4297a0ed81611c62cbf32493b1be6d27687f09f916389f5e95d6bf7f6c665b164bd1d4f2ef167a43c2268036faaceafa4e64e9326695d7218c39de40e5b3343f788bd8392c28728bf831b2784f33b90606fde9184248aa4d47bec9aa4ba925248c1fb7781cca1ed77b5d4f2e6d9946ac3abdc52e50f140d0e5e47d431b6c1b83455ee7eddadc6aefad0745e5931c97820b50adf1dbb9325bd82d7c01d8c28e3c67ef653709511b563f84b2b5f3301f791ec55101f8b38d87377bfa22dd30a1cfc71f392f4543c3b7bd82d9fe88f0352e02a52677b04504947af3a842c99018dd7c5868ee8798245a6b7fbe75a18d6a89b37b5f08d9ddee356c722d02752efc5b2b755ca0039ad030210935f4f54ffe7e4569eaf05aa89b04b5a4cb3cd8d119cae39668822898e18f2532728c1198f0162b612d512b36c109ef8c8de77fa4fb606e0709593f194b7d4ba5210bd6bcfba624a0fe84cb7d575590e194b6a823a28c39a65fe593b48ed35bafbea3a5bf70e5481273e2e49b44645661d6be3a5229af1c85e0b5c9e18d4d85c72853db0570d850e49ab5d9ae6ca87fd5c48bbbff698664457030fbc1fe2afad5fbda9cbf4eb6744bc4977802fdab8a30376bf595df2bf2f5cfb2872f0ac3e90fb36bbe08f79929883a338a724f78fd48d76f56d322ff18e9e17b4ced519d1497f3d2731be95eb085ccbed659ef2954e37094e8464b64d798c9ceafa9df8d68780f05edb57dca8e51c3424b97cd3bbc976daa50afe8df803ebb5836d597f7a12b883593b57ade470cd448415b0e07426c69b28145c3a42f81a0c47f0c0ab58a5e136df6965346601514ab5a9ff55767e770f651bc024bbaae1b0ff32bcb90061583dcdf9d8c05a9309f193198803f6491e25387537999dd2c105447124a4a192724219eadddae6f2baed92bdb4102cf66a4dba931e1d71bc0339aca83f0b7e658ab5069c7d3e878e44c225c9806b53ccf1efea19551779acb49cf625215db40b079f8f780b212e206ed6d01769ef23fff0fd40dc7d2ef24901d464b77817b657501cd06ea92dfb1f477989612d3d86826442f34c5fdeec0a89b7eb0f40ca83c7c6344eab30b08391f6ffa75335325c04f42af9a1b5d10714be95b23a2a8b671f3603e12aec17d82e758782825bb539634f7323e5110cf3199af25616a1a9728487a05fefc593ce26513997ae00ecc45cfac15c84d74b294aba50fa0948c6fd0e0bee147e97b2bc7b7feb1d84a5cf346e4ffcde1df3ba8736522807fa0ff208f43c2ac26b1587e7e975da3202026541b63544eeb36bf36fa9d19f9d31b7bf2e78efd4db1a89a5c83455b13aad515e11bba170c1bf890854ca33865f9130376cb9ae728090d2ec32498aa45f490b37a5360f88456a281cf788e114a9ded854dd54241df4226d1605452752eb4265f002680a4fc0412fad075e97061f761c164125c7c1f6f50643b1fe20577fc83e399e66aebbc7eb752e3d7716c393e2977275f4f0fad3ab71d1603dabec433eba177c80415d84b1a07bf8f89aec08a5c8ed7f36716d3159bfaff9e2e4ace1a821c206c5058c4b4ef13b4c8d82cb4c86619dc5b5ed5259aa581d11ca312986b2d22a4a98d75730ecb84a9426832c74742fcb1b1fbd7e860161d943c0ed8495dc1352125a55b45498e3d2cfa949396abfa6315432ba056653414e81e74350bfa91d6f03866f9b9ef186f82313944eb87c86dfecb113a79fa6b37e4a1c24aedb6fefc386970eba2a34d15b839e493f9fcb9e62a0f3f004d310917f1e3545c60daf3b4b40f98908c75f96e20d4b5f4f40dc2e9a3c2281c948e4492b72bfaf74a22a658264d6b46ae933b2e306ed0f1f9e8f746a27df46ae2192cc619e6c5aac6a87fb5e2d2b680d8aa4d45a827f5a50f80ce0182eb53d201af07463daa60cd48fd243d53239b3eb1279aac4ec36c5f8bd08d534db826a079cd73228988a5192e2c5aa5ec7c2ca5ce4a3768abeace86591e40c55b6b140a0fb8234b08948116bebffc5b64369055f3dddde0ce93388e20917964b377c23a5e3b7335ba5b717d837376af456350ba31a72a812476a33d80ba2355eaef5ef5fed561c9ea6528db3770ef34d6c75b001dd166ecc6d8924b321b6f76633dcff80569b3d55e273134e4cff157489eb02955ec6e80f309738d6baac0af9ff79f1ac71171fc6d8bc1c2d680a847b5271bad4cd320d06276848c871a1744b4860f4297219df37f02475570ef48be9cebe51ed82d9ff62f97880f7f7ff78cd8f77cb5d0929281c29472c819d5446c52e5f12b6cf32762f602404541d36fcf565bc8e46eb40ecafa0dc60edf77738673807e27c39d6eb311cbb84e7e852c3ec1929a67efb674742703837a808e83d0bad4107206b8fdbe4f8a84bedabf8d20f91f8efb705e11b6d142337e5c8ee7fa02e61b9edc437cd54b0ae00ec7c62bcd42057fc9656a402ec5e3ae0e930c6f9e92c1bf9aafb2c60ee646d76177342f3383293362bd735c84a6da49edab87fa40f06849b4805e8ebceb0fff81840859ee278ad47993dcb3af5687ad339379250002bf7a001215d84c8b52bb8ef1cef26dfc7bbbf8ff240691d7b50343f3c3de7151fa4886c9c1d4e7b3f4c0081239c3f2be6820c2730adae004b9b7a293d93ac728b13900952424cf0823d27ecae8e3b691bbf15c34719177bba6818e761786406bcc46ffb367fcfe3accf15c3b1bfbc4861f43c137e943c3d4d49823a6f359f6381f64dcff3159410358a7694036ae56ec09aec901a9d5e2e7af1fa31a2bdf8dc2070215b8d8cee04e48efd600ae9abf33e287383c2f199c3d87698c27e2a2231a00e41803603d9c42ff182250184cd8c8dc1ad0377a3a122fbc7954e6d236bef2974f2b90455775b943b73a64970cf8606509c4c8a62208354cf2eed947aac55f74947ce02ba1e6323ad921d4a42fece53370df9c7a0390ce916ecf468bd5dfa4c8a7e297a5f081fdec8e949112a1419b268f7f33881992f8a9b776041d8a447748ae473a7a518d6a692b7e9eee4883c319b057aa3912cded9f111fb4929997b54bbb08ab6c9ff4fbdb8468c1d4fb748d035fdcfd79f0b6a01c958eba487c89bb7019fdcd2598c7b60eedda85ebc3ed42fbaeabf6f6dc73a448bf2faa3ec89cd93cda2f57dff269d7968dc222cf348b36160a6152a27a9372c11c1cee2f7d42dc3757a95902b85705e1ae744ac83f94d89dcc34134be091f4fbf796f45e7e73595fb4b7c09d697472f087b15b5fa6e86534562f10c6a26dbb8b60c81aedaff0486bd5d309931fcc09ac25e5bbad5ed9372ad7443a4602fee151d1649dc33a70dba8bf58b2eb805689ee73c4619f2e0aaddab32be6b749d1cff88c727b07be0061e0846b0ac0775a014e0ec6882875205a76cbd17507ae4c59409d27aec06f88753df8f47415035f0bee232141047168aa9f25c4e31c30e65cdda0f50b7b7d50515e51f75c102e4f0c7b4d3df1fa80b45e310b574c2c9bd6730e575e8f5558f1abe360a15e45ca3ef8ac4c609387fb9c52ecd3011f2965881c965413ee2306745b4b3e49442df93f2a43365e6fa6a7cd6d845d5128158e0e9f9dc1c50d4715163e33bd115fab76a22fe256f8351eccb464397edd083e54b1986334c47fc02a529b4797bbec5bc365daa6e62253e81069086c1140645a3257328ed29f875c4eaa8109e5721d64bbd500550e2ca64d9c8a3878e18c6a614b45752a06ae2917abe11663d5a63471dd3bfda6b13a1eb86297b122ef6677240a2f6b999d55dd16ad1602670b76b3857500e7f1d0f488557fa23799f225dc738b23af78c6f906239f16fa2784ac5e73ed00dcd34451ed1e1c36235231c458aedf5e740dc526ea7234d59a12a01b9dfe0852d5f55262db2b556e66bca9b00839f314c45ef3451f70d9167efa5c09b51a694943d5b39cb10aadf831520b4868d64738ffcc4402f30ba6e269c2012a073938af8141c16e07053e8006b37b638b1313b27e9f320b1adfec3290aa45f39aefcbaec388a6597e25bb0e6eaa4f02b2527d41489c3fd55263105ba20db3b6c45ace8473692b49b311fed47c273193a30abb9a69944b0e11021ab674cbe9fd0b03e88a3c432b5088a90d644c131150f78b52585c29154a933da80a202f5d550e7bbee9b5b459e30ea819d28b250fbeca8ff8d725be27d724e368b6d7ce2edfe954d84be1e2e93803fa7a7acfd12824ce15f59e44773b96e105e20f895d1c575be3d38e96cb5abd9068d348d120da734fbb82246c01a9570de3c5d9c5546b5cf99b1cdba4146d1f987e38e8f853e528ac64cfcde61495e571beaf51133cf4560b4afcc0c0371754a64d9f518bef9f22a36b971b9e929841a6bfff0b135593e14f4dc34faa2fb5cc55ab80b0ba02f4e9bbe7333ac6cc3e560bb9df462f7ea1a040137e7f453bdd1dfd025511d40938089b4bf19dea32cf3a1db57f800c3e79e29ed8b3eb18681ba20c48210c441bf614c01110b9ed3d7e7ec994e21585996ef2845b5837dea214a849a919e87114b5660284dad40877dc82dc648bb4e3cbfe28f511deb11f75c71ebaa0590ccbdc51e6cee8dc548e8a1362faf050c91d3a54bb138fe2c2f7bc44c491b5f15a949c62e6a825d1305af13b2bcc006b9626a9a7b7e8c987732fac5cc95343f528741834d234a2bfefcca052502833a3e1a3133262a6bee2d91f7d3e71f027cf2f781a108a178f61a871e5e483c08731be2ac069c788a2436b5f5999d8af8d620cb37b3d2bd557345c1c96184e138251409fd82bb85c258c4e26a2d385d00b17db9cc3eaf8ad0d902755d03f87c862df70c02274b73517e04dc94f00469517ba63457b4320afd5f10d3fca6999a737a475cf29ae937209bd3c7f3009dc8528766db7ee8421957d53d18d4dafa962ec38496aba6ecb297e07f138b0d349121cd8ab07cc1f41126e77278ab411f5efc1ca91fb4c9915715df7791d2410ce847d57a7644c88d14755f872ba0d86e8e8ca23f691ef41574b95f98f56fa0d51fe215aade888bb0f28fa23d4855558a2249082b1e5cc78d131bb9b83d255ba3f2770abca24e999205b486d3842097b3b8d5f27545600f445704995afd232243215df6f4902bab3d02a342208a530a1620314a9d06b88fb263af3236381d5ca2e0d755231424870b7d6a6949ef6bb29235d6f499179b4cacd32d1d4bb6edc13c5461dc4c33e16223eae5e1380a113bf7def75beb20758708671ca4a0182f6348ae4852f617555933cc45b48e728eff30e712b8cb49582dc56b12a900d714aa862280ebe6551a02462379fea9be49d98d08ae3f43e2e3a44432f196053d0f4cc05ce79c1d96266151240a928d1db27f007e336e55a144b9a061a030e8a06f52ceb2cb3a3b6a9712823523453ed387bac427fb5355407614ec23d490b640201ce6dfee14fca277bba578e4e8dfd826302f8bd6e3b9a8f4d37f41421bb5c64faf59a0e6f539216befb66d60de6b6e4a2bc8e64b8c2ce070be654400e9deb006c596c2c6fd41596d9c93f589a0aae4ff50e13d7ca6ad0dd5f16da09bc5666b67aadd893d1fadc07dd2c91ee77ef9bf9e37010cc439e02702b0b1c6aaea6cacbbba9fdf664796df89678aeed5d3dab0d7f0e4cb8bc94d9a4328986c1ad3aece890c5646ab56559b984f8e31a349ebfa2cc0243a42b178023802b213ca297870c9a759131187211e542672b45da8452df31831bd5347916a3da0</script>
  <div class="hbe hbe-content">
    <div class="hbe hbe-input hbe-input-default">
      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">
      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">
        <span class="hbe hbe-input-label-content hbe-input-label-content-default">wobuguan</span>
      </label>
    </div>
  </div>
</div>
<link href="/css/hbe.style.css" rel="stylesheet" type="text/css"><script data-swup-reload-script type="module" src="/js/plugins/hbe.js"></script>
<script data-swup-reload-script type="module">
import {initHBE} from "/js/plugins/hbe.js";
  console.log("hexo-blog-encrypt: loaded.");
    initHBE();
</script>
]]></content>
      <categories>
        <category>self</category>
      </categories>
  </entry>
  <entry>
    <title>go-inline-perf</title>
    <url>/2024/03/22/go-inline-perf/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>only-for-me</title>
    <url>/2017/06/08/only-for-me/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Infra çš„åˆ›æ–°æ‚–è®º</title>
    <url>/2024/07/05/innovation-paradox/</url>
    <content><![CDATA[<h1 id="Infra-çš„åˆ›æ–°æ‚–è®º"><a href="#Infra-çš„åˆ›æ–°æ‚–è®º" class="headerlink" title="Infra çš„åˆ›æ–°æ‚–è®º"></a>Infra çš„åˆ›æ–°æ‚–è®º</h1><blockquote>
<p>æˆ‘åœ¨å†…ç½‘çœ‹åˆ°çš„ä¸€ç¯‡å¸–å­ï¼Œå†™å¾—çœŸå¥½ï¼Œæˆ‘è§‰å¾—å¾ˆå¥½çš„æè¿°äº†æˆ‘åœ¨ Infra éƒ¨é—¨å·¥ä½œé‡åˆ°çš„æ‰€è°“ã€Œåˆ›æ–°æ‚–è®ºã€ï¼Œæ¬äº†è¿‡æ¥ã€‚<br>æ‰€æœ‰æ•æ„Ÿä¿¡æ¯éƒ½å·²åˆ é™¤ï¼Œå¦‚æœåŸä½œè€…ä»‹æ„ï¼Œè¯·è”ç³»æˆ‘åˆ é™¤ğŸ™</p>
</blockquote>
<p>åŸæ ‡é¢˜ï¼šåº•å±‚å›°å¢ƒ-ç²¾å“ä¸å¦‚æ–°å“ï¼Œç§¯ç´¯ä¸å¦‚æ”¹å˜</p>
<p>å¥½é¡¹ç›®ä¸€æ—¦è¢«è®¤å¯ï¼Œå°±å·²ç»åœ¨è¿ˆå‘äº†æ­»äº¡</p>
<p>æ¯å¹´ä¸€æ¬¡çš„æ™‹å‡åˆ¶åº¦éœ€è¦RDå°Aåœ¨ä»Šå¹´æ‹¥æœ‰äº®çœ¼çš„æŠ€æœ¯äº§å‡ºï¼Œå½“å°Aå› ä¸ºå‡ºè‰²çš„é¡¹ç›®Aè·å¾—æ¿€åŠ±å’Œæ™‹å‡æœºä¼šåï¼Œé¡¹ç›®Aä»æ­¤ä¾¿æˆä¸ºäº†å°Aæ‰‹ä¸­ä¸€ä¸ªé£Ÿä¹‹æ— å‘³å¼ƒä¹‹å¯æƒœçš„é¸¡è‚‹ã€‚æ— è®ºæ˜¯ä»æ™‹å‡ã€ç»©æ•ˆè¿˜æ˜¯ç»éªŒçš„è§’åº¦ï¼Œä»–éƒ½å¾ˆéš¾å†åœ¨æ¥å¹´ç”¨é¡¹ç›®Aè·å¾—å¤šå°‘åˆ©ç›Šã€‚ç¬¬äºŒå¹´ä»–è¿˜è¦å…¨åŠ›æ‰‘åœ¨é¡¹ç›®Aä¸Šå—ï¼Ÿä»0.8åˆ°0.9æ€»æ¯”ä»0åˆ°0.8å›°éš¾å¾—å¤šï¼Œä¹Ÿæ²¡æ„æ€å¾—å¤šã€‚ä¸å¦‚ä¸“æ³¨åšä¸ªæ–°ä¸œè¥¿ï¼Œæ—¢èƒ½ä½“ç°ä»–çš„åˆ›é€ åŠ›ã€ä»·å€¼å’Œäº§å‡ºï¼Œåˆèƒ½æ‹“å±•ä»–çš„ç»éªŒå’Œèƒ½åŠ›è¾¹ç•Œã€‚æ­¤æ—¶æŠŠé¡¹ç›®äº¤å‡ºå»ä¾¿æ˜¯å°Aæœ€å¥½çš„é€‰æ‹©ï¼Œå³ä¾¿ä¸äº¤å‡ºå»ï¼Œæœ€å¥½ä¹Ÿåªæ˜¯ç¨ä½œç»´æŠ¤ã€‚<br>è€Œé€šå¸¸æƒ…å†µä¸‹ï¼Œå°Aéƒ½æ˜¯èƒ½æŠŠé¡¹ç›®äº¤å‡ºå»çš„ï¼Œå› ä¸ºä»–çš„ä¼˜ç§€å’Œä»–çš„â€œåˆ›æ–°æ„è¯†â€ï¼ŒåŒæ ·èƒ½å¤Ÿç»™ä»–çš„leaderå¸¦æ¥å¥½å¤„å’ŒæƒŠå–œï¼›æˆ–è®¸åœ¨æœ‰äº›æƒ…å†µä¸‹ï¼Œæ”¾ä½é¡¹ç›®Açš„ä¼˜å…ˆçº§ç»™å°Aè…¾å‡ºæ‰‹æ¥æåˆ«çš„äº‹æƒ…ä¹Ÿæ­£æ˜¯æ¥è‡ªleaderçš„æˆæ„ã€‚æ­¤æ—¶ï¼Œè¢«å®‰æ’å»æ¥æ‰‹ç»´æŠ¤é¡¹ç›®Açš„å°Bä¾¿æˆä¸ºäº†æ— å¥ˆåˆæƒ¨æ·¡çš„é‚£ä¸€ä¸ªã€‚å¯¹äºä»–æ¥è¯´ï¼Œè¿™ä¸ªé¡¹ç›®è¿é¸¡è‚‹éƒ½ä¸å¦‚ï¼Œæ˜¯çº¯çº¯çš„é¸¡éª¨å¤´ã€‚å°Bä¼šæŠŠé¡¹ç›®Aåšçš„è¶Šæ¥è¶Šå¥½å—ï¼Ÿç­”æ¡ˆå¾ˆæ˜æ˜¾ï¼Œèƒ½è¢«å¥½å¥½ç»´æŠ¤å·²ç»ç®—æ˜¯é¡¹ç›®Açš„å¹¸è¿äº†</p>
<p>é¡¹ç›®Aæœ¬æ¥ç»è¿‡å°Aä¸ç”¨æˆ·ç£¨åˆè¿­ä»£åå·²ç»è›®å¥½ç”¨äº†ï¼Œå¥½å¤šä¸€çº¿å¼€å‘äººå‘˜éƒ½ç”¨çš„é¡ºæ‰‹ï¼›å¯åæ¥ç»™å®ƒææ–°åŠŸèƒ½å®ƒä¸ä¹æ„æ”¯æŒäº†ï¼Œè€åŠŸèƒ½ä¹Ÿè¶Šæ¥è¶Šä¸ç¨³å®šï¼Œæ•ˆç‡é™ä½å›°æ‰°å¢åŠ ï¼Œå¼€å‘äººå‘˜éƒ½åœ¨åæ§½ï¼Œæ­¤æ—¶å°Açš„leaderä»‹æ„å—ï¼Ÿæœ‰ä½†ä¸å¤šï¼šæ²¡å…³ç³»ï¼Œåˆä¸æ˜¯ä¸èƒ½ç”¨ï¼Œç¡®å®ä¹Ÿæ˜¯æ²¡ç©ºç®¡äº†ï¼Œè¦ä¸ä½ ä»¬æŠŠé¡¹ç›®æ¥è¿‡å»ä¸€èµ·ç»´æŠ¤ï¼Ÿæ²¡äº‹å„¿ï¼Œæˆ‘ä»¬è‡ªå·±åˆä¸ç”¨ï¼Œé˜»ç¢ä½ ä»¬å¼€å‘äº†ï¼Ÿè¦æ˜¯å¤ªç´§æ€¥å°±æŠŠä»£ç æƒé™ç»™ä½ ä»¬å¼€äº†ä¸€èµ·æ’æŸ¥æ’æŸ¥ï¼Ÿåˆ«æ€¥å“ˆï¼Œæ–°å·¥å…·&#x2F;æ–°æ¡†æ¶å·²ç»åœ¨åšäº†æ¯”è¿™ä¸ªæ›´å¥½ç”¨ï¼Œè¦ä¸ä½ ä»¬ç°åœ¨å°±å¯ä»¥å…ˆè¯•è¯•ï¼Œåšæˆ‘ä»¬ç¬¬ä¸€æ‰¹ç”¨æˆ·å§ï¼Œäº«å—vipæœåŠ¡å“¦ï½æ›´ç³Ÿç³•çš„æƒ…å†µæ˜¯å¼€å‘äººå‘˜ä¹Ÿè¢«ä¼ è¾¾è‡ªä¸Šè€Œä¸‹çš„æŒ‡ä»¤ï¼šè€çš„åˆ«ç”¨äº†ç”¨æ–°çš„å·¥å…·&#x2F;æ¡†æ¶å§ï¼Œæ–°çš„æ›´å¥½ä»¥ååŠŸèƒ½ä¹Ÿæ›´å…¨ã€‚å¼€å‘äººå‘˜éšæ‰‹ä¸€è¯•ï¼Œè¿™ä¹Ÿä¸è¡Œé‚£ä¹Ÿä¸è¡Œå•Šæ€ä¹ˆåŠå•Šé¢†å¯¼ï¼Ÿé¢†å¯¼è¯´æ²¡å…³ç³»ï¼Œè¿™åªæ˜¯é˜µç—›ï¼Œä½ è¾¹ç”¨ä»–ä»¬è¾¹ç»™ä½ æ”¹ï¼Œå¾ˆå¿«å°±èƒ½è¡Œäº†ï¼</p>
<p>è¿™ç§çŠ¶å†µæ˜¯ç®¡ç†è€…ä»¬å¸Œæœ›çœ‹åˆ°çš„å—ï¼Œè™½ç„¶ä»å¸¸ç†ä¸Šæ¥è¯´ï¼Œä»»ä½•ä¸€ä¸ªå·¥ç¨‹å¸ˆåº”è¯¥éƒ½ä¸å¸Œæœ›äº‹æ€å¦‚æ­¤å‘å±•ã€‚å·¥æ¬²å–„å…¶äº‹ å¿…å…ˆåˆ©å…¶å™¨ï¼Œå¤§å®¶å¸Œæœ›ç”¨ç²¾ä¸”ä¸“çš„ä¸œè¥¿ï¼Œè€Œä¸æ˜¯é¢‘ç¹åˆ‡æ¢ç£¨åˆæ–°å·¥å…·ã€‚ä½†ä»ç°å®å±‚é¢æ¥è¯´ï¼Œå¾ˆé—æ†¾ï¼Œè¿™ä»ä¸Šè‡³ä¸‹é€å±‚çš„ç®¡ç†è€…ä¹‹ä¸­ï¼Œé™¤å»æœ€é¡¶éƒ¨çš„ä¸¤ä¸‰å±‚ï¼Œåº”è¯¥æœ‰ä¸å°‘å±‚éƒ½ä¹äºå¦‚æ­¤ã€‚å°Aä»¬ç»™leaderä»¬å¸¦æ¥äº†å¾ˆå¤šå¯ä»¥å‘ä¸Šæ±‡æŠ¥çš„ä¸œè¥¿ï¼Œè¿™è®©leaderä»¬åœ¨ä»–ä»¬çš„ä¸Šçº§çœ¼ä¸­çœ‹æ¥ï¼Œå¥½åƒèƒ½å¤Ÿå¸¦é¢†å›¢é˜Ÿä¸€ç›´æ¢ç´¢å’Œå‰è¿›ï¼Œåˆ›æ–°å’Œçªç ´ã€‚ä»–ä»¬æ€»æ˜¯å……æ»¡å¹²åŠ²ï¼Œäº§å‡ºæ»¡æ»¡ã€‚ä»–ä»¬æœ‰é”™å—ï¼Ÿæ²¡æœ‰é”™ï¼Œä¸ºä»€ä¹ˆä¸å‘¢ï¼Ÿé€‚è€…ç”Ÿå­˜ï¼Œåœ¨è¿™æ ·çš„ç¯å¢ƒå’Œåˆ¶åº¦ä¹‹ä¸‹ï¼Œä»–ä»¬å°±æ˜¯ä¼˜èƒœè€…å’Œåˆ©ç›Šå€¾æ–œæ–¹ã€‚é€ æˆè¿™ç§è¯„åˆ¤ç»“æœçš„åŸå› æ˜¯è¿™è¯„æ–­å¥½åçš„è¯„å§”ä¸æ˜¯æ¯ä¸€ä¸ªå·¥ç¨‹å¸ˆï¼Œè¿™å†³å®šä½¿ç”¨å“ªä¸€ä¸ªå·¥å…·çš„å†³ç­–è€…ä¸æ˜¯æ¯ä¸€ä¸ªä¸€çº¿å¼€å‘äººå‘˜ï¼Œè€Œæ˜¯ä»–ä»¬ä¸€å±‚åˆä¸€å±‚çš„ä¸Šçº§ã€‚  </p>
]]></content>
      <categories>
        <category>tech</category>
      </categories>
  </entry>
  <entry>
    <title>é€ƒç¦»åŒ—äº¬ï¼Ÿ</title>
    <url>/2024/07/10/leave-peking/</url>
    <content><![CDATA[<h1 id="é€ƒç¦»åŒ—äº¬ï¼Ÿ"><a href="#é€ƒç¦»åŒ—äº¬ï¼Ÿ" class="headerlink" title="é€ƒç¦»åŒ—äº¬ï¼Ÿ"></a>é€ƒç¦»åŒ—äº¬ï¼Ÿ</h1><blockquote>
<p>ä¸ºä»€ä¹ˆå¾ˆå°‘æœ‰åŒ—äº¬å¸‚ç¨‹åºå‘˜ï¼Œå‡­å€Ÿä¸ªäººåŠªåŠ›æŒ£å‡ ç™¾ä¸‡å…ƒå­˜æ¬¾åï¼Œç«‹åˆ»å»ä¸‰å››çº¿åŸå¸‚ç”Ÿæ´»ï¼Ÿ<br>è½¬è‡ªçŸ¥ä¹å›ç­”ï¼š<a class="link"   href="https://www.zhihu.com/question/432359623/answer/3557716369" >https://www.zhihu.com/question/432359623/answer/3557716369<i class="fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon"></i></a><br>å½“ç„¶ï¼Œæ²¡æœ‰ç‰ˆæƒé—®é¢˜ï¼Œå› ä¸ºæ˜¯æˆ‘å†™çš„qaq<br>å°æ°´ä¸€ç¯‡åšå®¢</p>
</blockquote>
<p>æƒ³å›ç­”ä¸‹è¿™ä¸ªé—®é¢˜ï¼Œç®—æ˜¯ä¸ºå¤§å®¶æä¾›ä¸€äº›ç»éªŒæ•™è®­ã€‚</p>
<p>22 å¹´æœ¬ç§‘æ¯•ä¸šçš„ï¼Œæ¯•ä¸šåä¸€ç›´åœ¨åŒ—äº¬å·¥ä½œï¼Œç®—èµ·æ¥ï¼Œç»ƒä¹ æ—¶é•¿ä¹Ÿå¿«åˆ°ä¸¤å¹´åŠäº†ã€‚</p>
<p>åˆšæ¯•ä¸šçš„æ—¶å€™ï¼Œä½œä¸ºä¸€ä¸ªç©·å­¦ç”Ÿæœºç¼˜å·§åˆä¸‹çªç„¶æ‹¿äº†å¤§å‚çš„ sp offerï¼Œå½¼æ—¶å ªç§°é›„å¿ƒä¸‡ä¸ˆï¼Œè§‰å¾—è‡ªå·±è–ªèµ„å¾ˆé«˜ï¼Œèµ·ç‚¹ä¹Ÿä¸é”™ï¼Œå¿…å®šèƒ½ç•™åœ¨åŒ—äº¬ï¼Œä¹°æˆ¿å®šå±…ï¼Œé—¯å‡ºä¸€ç•ªäº‹ä¸šã€‚</p>
<p>23 å¹´çš„æ—¶å€™ï¼Œå·¥ä½œä¸€åº¦ä¸å¤ªé¡ºï¼Œå°¤å…¶æ˜¯ä»å­¦ç”Ÿåˆ°èŒåœºçš„æ€ç»´è½¬å˜ï¼Œä¸¾æ­¥ç»´è‰°ï¼Œä¸æ–­è¸©å‘ï¼›è‡ªå·±åšçš„äº‹æƒ…ä¹Ÿä¸å¤ªèƒ½è®©è‡ªå·±æ»¡æ„ï¼›å†åŠ ä¸Šç»„ç»‡æ¶æ„åŠ¨è¡ï¼Œä¸šåŠ¡å›°éš¾ç­‰å„ç§å› ç´ ï¼Œå¼€å§‹å˜å¾—ç°å¿ƒä¸§æ°”ï¼Œä¸€ç›´åœ¨è´¨ç–‘è‡ªå·±çš„èƒ½åŠ›ï¼Œè§‰å¾—è‡ªå·±çš„å‰æ™¯ä¹Ÿå°±åˆ°è¿™äº†ã€‚</p>
<p>ç°åœ¨æƒ³æƒ³ï¼Œé‚£æ—¶çš„ä¸€äº›è§‚ç‚¹è¿˜æ˜¯å¤ªå¹¼ç¨šäº†ï¼Œè‡³å°‘æœ€æ ¸å¿ƒçš„ä¸€ç‚¹ï¼Œè‡ªå·±çš„ç»©æ•ˆä¸€ç›´æ²¡å‡ºè¿‡é—®é¢˜ï¼Œåªæ˜¯ä¸æ„¿æ„æ¥å—åœ¨ä¸€äº›ä¸œè¥¿ä¸Šäº‹ä¸æ„¿è¿ï¼Œå†åŠ ä¸Šæ€¥èºï¼Œç„¦è™‘ï¼Œä¸æˆç†Ÿï¼Œæœ€ç»ˆå¯¼è‡´è‡ªå·±é¢‡æœ‰äº›å¿ƒç°æ„å†·çš„æ„Ÿè§‰ï¼Œæ–—å¿—å…¨æ— ï¼Œåªæƒ³å½“ä¸ªæ€¯æˆ˜èœ¥èœ´ï¼Œ</p>
<p>å°±æ˜¯åœ¨é‚£ä¸ªæ—¶å€™æ­£å¼åŠ¨äº†å»é•¿æ²™çš„å¿µå¤´ï¼ˆæˆ‘æ˜¯æ¹–å—äººï¼‰ï¼Œæœ€ç»ˆ 23 å¹´ 10 æœˆåœ¨é•¿æ²™ä¹°äº†å¥—æˆ¿ã€‚è¯´å®è¯æœ‰ç‚¹é«˜ä½æ¥ç›˜çš„æ„æ€ã€‚ä½†é‚£ä¸ªæ—¶å€™éå¸¸æ²®ä¸§ï¼Œä¸€å¿ƒåªæƒ³ç¦»å¼€åŒ—äº¬ï¼›å†åŠ ä¸Šè§‰å¾—é•¿æ²™çš„æˆ¿ä»·åæ­£æ²¡å¤šé«˜ï¼Œäºä¹Ÿäºä¸äº†å¤šå°‘ï¼›è€Œä¸”è¿™å¥—æˆ¿å­æƒ³ç”¨æ¥è‡ªä½ï¼›æ‰€ä»¥ä¹Ÿæ²¡ç®¡é‚£ä¹ˆå¤šï¼Œä¹Ÿæ²¡åšå¤ªå¤šè°ƒç ”ã€‚æœ€åä¹°çš„ä»·æ ¼æ˜¯ 1.37w&#x2F;å¹³ï¼Œ131 å¹³ï¼Œé¦–ä»˜åŠ ä¸Šå„ç§ä¹±ä¸ƒå…«ç³Ÿçš„è´¹ç”¨ï¼ŒèŠ±äº†å·®ä¸å¤š 65ï½70ï¼Œæ²¡ç»†ç®—ï¼›æ­¤å¤–å•†è´· 120ï¼Œ4.0 çš„åˆ©ç‡ã€‚ä¸€æ³¢èŠ±æ‰äº†æ‰‹ä¸Šæ‰€æœ‰çš„ç°é‡‘ï¼Œè¿˜å€Ÿç‚¹äº†ï¼Œæœ€ç©·çš„æ—¶å€™å¡é‡Œ 1000 å—éƒ½æ²¡æœ‰äº†ã€‚å¥½åœ¨æ¯æœˆæˆ¿è´·ä¸é«˜ï¼Œæˆ‘çš„å…¬ç§¯é‡‘å®Œå…¨å¯ä»¥è¦†ç›–ï¼Œè¿˜èƒ½å‰©ä¸‹ç‚¹è¡¥è´´æ—¥ç”¨ã€‚</p>
<p>å½“æ—¶çš„è®¡åˆ’å°±æ˜¯ï¼Œåœ¨åŒ—äº¬æ··åˆ° 30 å²ï¼Œçœç€ç‚¹èŠ±é’±ï¼Œå“ªæ€•è¿™äº›å¹´ä¸€æ¯›é’±å·¥èµ„ä¸æ¶¨ï¼Œä¹ŸåŸºæœ¬èƒ½å­˜å¤Ÿè£…ä¿®å’Œæˆ¿è´·çš„é’±ï¼ˆå½“ç„¶å­˜å¤Ÿäº†ä¹Ÿä¸ä¸€å®šè¦ç«‹é©¬è¿˜ï¼‰ï¼Œç„¶åå°±æ‰¾ä¸ªåˆé€‚çš„æœºä¼šå›é•¿æ²™ï¼Œèƒ½æ‰¾åˆ°å›½ä¼ã€äº‹ä¸šå•ä½ã€å…¬åŠ¡å‘˜è‡ªç„¶æœ€å¥½ï¼Œæœ€å·®å¤§ä¸äº†å»å½“ä¿å®‰ï¼Œæ€»ä¹‹ä¸€å®šè¦è½»æ¾ã€‚ä¸ä¸€å®šè¦ç»“å©šç”Ÿå­ï¼Œæ›´é‘è®ºä¸€å®šè¦å‡ºäººå¤´åœ°ï¼Œåªæ˜¯å•çº¯æƒ³å½“ä¸ªçƒ‚äººï¼Œè§‰å¾—è‡ªå·±å‰ 20 å¤šå¹´éƒ½æ²¡æ€ä¹ˆå¥½å¥½ä¸ºè‡ªå·±æ´»è¿‡ï¼Œæƒ³è‡ªç”±ä¸€ç‚¹ç”Ÿæ´»ä¸‹å»ã€‚</p>
<p>23 å¹´åº•çš„æ—¶å€™è·³äº†ä¸€æ¬¡æ§½ï¼Œæ¯”èµ·åˆšæ¯•ä¸šæ¶¨äº†äº›å·¥èµ„ï¼Œæ–°å…¬å¸ç»„é‡Œçš„æ•´ä½“æ°›å›´ï¼Œå·¥ä½œå¼ºåº¦å…¶å®éƒ½æŒºå¥½çš„ï¼Œæˆ‘ä¸ªäººè›®å–œæ¬¢çš„ï¼Œè€Œä¸”å¯¹æœªæ¥ä¹Ÿå¼€å§‹å˜å¾—æ›´ä¹è§‚çš„äº›ï¼Œè§‰å¾—è‡ªå·±ä¹Ÿä¸å®Œå…¨ä¸€æ— æ˜¯å¤„ï¼Œåè€Œæ²¡é‚£ä¹ˆå¼ºçš„å›å»çš„åŠ¨åŠ›äº†ã€‚</p>
<p>åŠ ä¸ŠåŒ—äº¬æˆ¿ä»·ä¹Ÿåœ¨è·Œï¼Œå…¶å®æƒ³æƒ³ä¹Ÿä¸æ˜¯ä¹°ä¸èµ·åŒ—äº¬çš„æˆ¿å­ï¼Œä¸œåï¼Œé¡ºä¹‰ï¼Œå—äº”ç¯è¿™äº›åœ°æ–¹ï¼Œä¸‰åˆ°å››ç™¾ä¸‡æ•´ä¸ª 70 æ¥å¹³çš„æˆ¿å­ï¼Œä¼¼ä¹ä¹Ÿä¸æ˜¯è´Ÿæ‹…ä¸èµ·ã€‚ä½†æ˜¯æ²‰æ²¡æˆæœ¬å·²ç»æŠ•å…¥äº†ï¼Œé•¿æ²™çš„æ”¿ç­–å››å¹´å†…æˆ¿å­ä¸èƒ½å‡ºæ‰‹ï¼Œå››å¹´åçš„ä»·æ ¼æ˜¯æ€ä¹ˆä¸€å›äº‹è¿˜ä¸çŸ¥é“ã€‚å¦‚æœæ‹¿æ¥è‡ªä½ï¼Œé‚£é™ä¸é™ä»·æ— æ‰€è°“ï¼Œä½†å¦‚æœå–æ‰é•¿æ²™æˆ¿äº§å†åŒ—äº¬ä¹°æˆ¿ï¼Œé‚£å°±éš¾é¡¶äº†ã€‚</p>
<p>è¿™äº›é—®é¢˜æˆ‘ä¹Ÿæ²¡æƒ³æ˜ç™½ï¼Œæˆ‘åªæ˜¯è¶Šå‘è§‰å¾—äººæ˜¯æ°¸è¿œä¸èƒ½é¢„æµ‹æœªæ¥çš„ï¼Œå› æ­¤èµ°ä¸€æ­¥çœ‹ä¸€æ­¥å§ã€‚</p>
<p>æ€»ç»“ä¸‹ï¼Œäºæˆ‘è€Œè¨€ï¼Œæ”’å¤Ÿé’±ä¸æ˜¯ä»€ä¹ˆå¤ªéš¾çš„ç‚¹ï¼Œä¸»è¦çš„é—®é¢˜åœ¨äºï¼š</p>
<ul>
<li>èƒ½å¦åœ¨é•¿æ²™æ‰¾åˆ°åˆé€‚çš„å·¥ä½œï¼Œå¥½æ­¹è½»æ¾ç‚¹çš„èƒ½å…»æ´»è‡ªå·±å§</li>
<li>åˆ°æ—¶å€™è¿˜æœ‰æ²¡æœ‰å›é•¿æ²™çš„åŠ¨åŠ›ï¼Œå¦‚æœé‚£æ—¶å€™è‡ªæˆ‘æ„Ÿè§‰å‘å±•çš„è¿˜ä¸é”™ï¼Œå“ªæ€•æ˜¯ä¸€ç§å‡è±¡ï¼Œæˆ–è®¸ä¹Ÿå¾ˆéš¾æœ‰å›å»çš„åŠ¨åŠ›</li>
<li>å¦‚ä½•é€‚åº”æ”¶å…¥éª¤é™ï¼Œæ¯”å¦‚ä¸€ä¸ªæœˆçš„å·¥èµ„å¯èƒ½è¿˜æ²¡ç°åœ¨çš„å…¬ç§¯é‡‘é«˜ï¼Ÿ</li>
<li>æƒ³åˆ°äº†å†è¡¥å……â€¦â€¦</li>
</ul>
<p>ç°åœ¨è‡ªå·±ä¹Ÿä¸ç¡®å®šèƒ½ä¸èƒ½è¾¾æˆè‡ªå·±çš„è®¡åˆ’ï¼Œå¸Œæœ›å§ã€‚ä½†äººæ€»æ˜¯åœ¨ä¸æ–­æˆé•¿ï¼Œå¿ƒæ€ä¹Ÿä¸€ç›´åœ¨å˜çš„ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿä¸çŸ¥é“æœªæ¥ä¼šå‘ç”Ÿä»€ä¹ˆã€‚</p>
<p>å¦‚æœæœ‰äººçœ‹è¿™ä¸ªå›ç­”çš„è¯ï¼ŒæŒç»­æ›´æ–°ä¸‹è¿›å±•å§ã€‚</p>
]]></content>
      <categories>
        <category>daily</category>
      </categories>
  </entry>
</search>
